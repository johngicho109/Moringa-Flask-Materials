<!DOCTYPE html>
<!-- saved from url=(0108)https://moringaschool.instructure.com/courses/448/pages/thursday-application-structures?module_item_id=40085 -->
<html class="" dir="ltr" lang="en-GB"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  
  <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin="">
    <link rel="preload" href="https://moringaschool.instructure.com/dist/fonts/lato/extended/Lato-Regular-bd03a2cc27.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="preload" href="https://moringaschool.instructure.com/dist/fonts/lato/extended/Lato-Bold-cccb897485.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="preload" href="https://moringaschool.instructure.com/dist/fonts/lato/extended/Lato-Italic-4eb103b4d1.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="stylesheet" media="screen" href="./fl27_files/lato_extended-f5a83bde37.css">
    <script async="" src="./fl27_files/analytics.js"></script><script async="" src="./fl27_files/analytics.js"></script><script>if (navigator.userAgent.match(/(MSIE|Trident\/)/)) location.replace('/ie-is-not-supported.html')</script>
  
  <link rel="shortcut icon" type="image/x-icon" href="https://instructure-uploads-eu.s3-eu-west-1.amazonaws.com/account_118060000000000001/attachments/23/Moringa%20Logo-02.png">
  <link rel="apple-touch-icon" href="https://instructure-uploads-eu.s3-eu-west-1.amazonaws.com/account_118060000000000001/attachments/16/MORINGA%20TREE%20WHITE.png">
  <link rel="stylesheet" media="all" href="./fl27_files/variables-8391c84da435c9cfceea2b2b3317ff66.css">
  <link rel="stylesheet" media="all" href="./fl27_files/common-38059c49a5.css">
  <meta name="apple-itunes-app" content="app-id=480883488">
<link rel="manifest" href="https://moringaschool.instructure.com/web-app-manifest/manifest.json">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="#8e9847">
  <link rel="stylesheet" media="all" href="./fl27_files/wiki_page-f893268088.css">
<link rel="stylesheet" media="all" href="./fl27_files/new_user_tutorials-2950c871dd.css">
  <link rel="stylesheet" media="all" href="./fl27_files/canvas.css">
  <script>
    function _earlyClick(e){
      var c = e.target
      while (c && c.ownerDocument) {
        if (c.getAttribute('href') == '#' || c.getAttribute('data-method')) {
          if (!e.defaultPrevented) {
            e.preventDefault()
          }
          (_earlyClick.clicks = _earlyClick.clicks || []).push(c)
          break
        }
        c = c.parentNode
      }
    }
    document.addEventListener('click', _earlyClick)
  </script>


  <script>
    INST = {"environment":"production","allowMediaComments":true,"kalturaSettings":{"domain":"eu.nv.instructuremedia.com","resource_domain":"eu.nv.instructuremedia.com","rtmp_domain":"dub.rtmp.instructuremedia.com","partner_id":"5","subpartner_id":"0","player_ui_conf":"0","kcw_ui_conf":"0","upload_ui_conf":"0","max_file_size_bytes":534773760,"do_analytics":false,"hide_rte_button":false,"js_uploader":true},"logPageViews":true,"maxVisibleEditorButtons":3,"editorButtons":[{"name":"Commons Favourites","id":1,"favorite":false,"url":"https://lor.instructure.com/api/lti/favorite-resources","icon_url":"https://lor.instructure.com/img/icon_commons.png","canvas_icon_class":null,"width":800,"height":400,"use_tray":true,"description":"\u003cp\u003eFind and share course content\u003c/p\u003e\n"},{"name":"Google Drive (LTI 1.3)","id":148,"favorite":false,"url":"https://assignments.google.com/lti/e","icon_url":"https://www.gstatic.com/images/branding/product/1x/drive_16dp.png","canvas_icon_class":null,"width":690,"height":530,"use_tray":false,"description":"\u003cp\u003eCollect, analyze, and grade student work with Google Assignments\u003c/p\u003e\n"},{"name":"YouTube","id":158,"favorite":true,"url":"https://www.edu-apps.org/lti_public_resources/?tool_id=youtube","icon_url":"https://www.edu-apps.org/assets/lti_public_resources/youtube_icon.png","canvas_icon_class":null,"width":560,"height":600,"use_tray":false,"description":"\u003cp\u003eSearch publicly available YouTube videos. A new icon will show up in your course rich editor letting you search YouTube and click to embed videos in your course material.\u003c/p\u003e\n"},{"name":"Google Apps","id":162,"favorite":false,"url":"https://google-drive-lti-iad-prod.instructure.com/lti/rce-content-selection","icon_url":"https://google-drive-lti-iad-prod.instructure.com/icon.png","canvas_icon_class":null,"width":700,"height":600,"use_tray":false,"description":"\u003cp\u003eAllows you to pull in documents from Google Drive to Canvas\u003c/p\u003e\n"}]};
    ENV = {"ASSET_HOST":"https://du11hjcvx0uqb.cloudfront.net/br","active_brand_config_json_url":"https://du11hjcvx0uqb.cloudfront.net/br/dist/brandable_css/b5f0573040e8649cf4cc5fc40f5957de/variables-8391c84da435c9cfceea2b2b3317ff66.json","url_to_what_gets_loaded_inside_the_tinymce_editor_css":["https://du11hjcvx0uqb.cloudfront.net/br/dist/brandable_css/b5f0573040e8649cf4cc5fc40f5957de/variables-8391c84da435c9cfceea2b2b3317ff66.css","https://du11hjcvx0uqb.cloudfront.net/br/dist/brandable_css/responsive_layout_normal_contrast/bundles/what_gets_loaded_inside_the_tinymce_editor-30c1708b62.css","https://du11hjcvx0uqb.cloudfront.net/br/dist/brandable_css/no_variables/bundles/lato_extended-f5a83bde37.css"],"url_for_high_contrast_tinymce_editor_css":["https://du11hjcvx0uqb.cloudfront.net/br/dist/brandable_css/default/variables-high_contrast-8391c84da435c9cfceea2b2b3317ff66.css","https://du11hjcvx0uqb.cloudfront.net/br/dist/brandable_css/responsive_layout_high_contrast/bundles/what_gets_loaded_inside_the_tinymce_editor-4a61d234df.css","https://du11hjcvx0uqb.cloudfront.net/br/dist/brandable_css/no_variables/bundles/lato_extended-f5a83bde37.css"],"current_user_id":"4577","current_user_roles":["user","student"],"current_user_types":[],"current_user_disabled_inbox":false,"files_domain":"cluster295.canvas-user-content.com","DOMAIN_ROOT_ACCOUNT_ID":"118060000000000001","k12":false,"use_responsive_layout":true,"use_rce_enhancements":true,"rce_auto_save":true,"use_rce_a11y_checker_notifications":false,"help_link_name":"Help Desk","help_link_icon":"cog","use_high_contrast":false,"auto_show_cc":false,"disable_celebrations":false,"disable_keyboard_shortcuts":false,"LTI_LAUNCH_FRAME_ALLOWANCES":["geolocation *","microphone *","camera *","midi *","encrypted-media *","autoplay *"],"DEEP_LINKING_POST_MESSAGE_ORIGIN":"https://moringaschool.instructure.com","DEEP_LINKING_LOGGING":null,"comment_library_suggestions_enabled":false,"SETTINGS":{"open_registration":false,"collapse_global_nav":false,"release_notes_badge_disabled":false},"API_GATEWAY_URI":"https://api.eu-west-1.instructure.com/graphql/future","DIRECT_SHARE_ENABLED":false,"FEATURES":{"cc_in_rce_video_tray":true,"featured_help_links":true,"rce_pretty_html_editor":true,"rce_better_file_downloading":true,"rce_better_file_previewing":true,"strip_origin_from_quiz_answer_file_references":true,"rce_buttons_and_icons":false,"important_dates":true,"feature_flag_filters":false,"k5_parent_support":false,"k5_homeroom_many_announcements":true,"responsive_awareness":true,"responsive_misc":true,"product_tours":false,"files_dnd":true,"usage_rights_discussion_topics":true,"inline_math_everywhere":true,"granular_permissions_manage_users":true,"rce_limit_init_render_on_page":true,"embedded_release_notes":true,"canvas_k6_theme":false,"new_math_equation_handling":true},"current_user":{"id":"4577","display_name":"john.gicho@student.moringaschool.com","avatar_image_url":"https://moringaschool.instructure.com/images/messages/avatar-50.png","html_url":"https://moringaschool.instructure.com/about/4577","pronouns":null,"avatar_is_fallback":true},"page_view_update_url":"/page_views/f527310b-faf9-4c83-b59e-a164576bbe95?page_view_token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpIjoiZjUyNzMxMGItZmFmOS00YzgzLWI1OWUtYTE2NDU3NmJiZTk1IiwidSI6MTE4MDYwMDAwMDAwMDA0NTc3LCJjIjoiMjAyMS0xMC0wOVQwODozMjoxMy41OFoifQ.S-2Cv00J1QRIOzKG6DGWUUmK8zNkn7cy6NkLtDphENk","context_asset_string":"course_448","ping_url":"https://moringaschool.instructure.com/api/v1/courses/448/ping","TIMEZONE":"Africa/Nairobi","CONTEXT_TIMEZONE":"Africa/Nairobi","LOCALE":"en-GB","BIGEASY_LOCALE":"en_GB","FULLCALENDAR_LOCALE":"en-gb","MOMENT_LOCALE":"en-gb","rce_auto_save_max_age_ms":86400000,"K5_USER":false,"K5_HOMEROOM_COURSE":false,"K5_SUBJECT_COURSE":false,"WIKI_RIGHTS":{"read":true},"PAGE_RIGHTS":{"read":true},"DEFAULT_EDITING_ROLES":"teachers","WIKI_PAGES_PATH":"/courses/448/pages","WIKI_PAGE":{"editing_roles":"teachers","title":"Thursday: Application Structures","created_at":"2021-08-29T16:31:12+03:00","url":"thursday-application-structures","page_id":"37601","published":true,"hide_from_students":false,"front_page":false,"html_url":"https://moringaschool.instructure.com/courses/448/pages/thursday-application-structures","todo_date":null,"updated_at":"2021-08-29T16:31:12+03:00","locked_for_user":false,"body":"\u003ch2\u003eApplication structure\u003c/h2\u003e\n\u003cp\u003eWhen we began our project we created a basic application structure. This was good for when our application was still small but as it grows in size and complexity we will need to efficiently organize our project.\u003c/p\u003e\n\u003cp\u003eWe will create a new application structure that we will use from now on in the end it will look something like this\u003c/p\u003e\n\u003cdiv class=\"codehilite\"\u003e\n\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e\u003ccode\u003e\u003cspan class=\"o\"\u003e|-\u003c/span\u003e\u003cspan class=\"n\"\u003eWatchlist\u003c/span\u003e\n    \u003cspan class=\"o\"\u003e|-\u003c/span\u003e\u003cspan class=\"n\"\u003eapp\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\n        \u003cspan class=\"o\"\u003e|-\u003c/span\u003e\u003cspan class=\"n\"\u003emain\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\n            \u003cspan class=\"o\"\u003e|-\u003c/span\u003e\u003cspan class=\"fm\"\u003e__init__\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003epy\u003c/span\u003e\n            \u003cspan class=\"o\"\u003e|-\u003c/span\u003e\u003cspan class=\"n\"\u003eerrors\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003epy\u003c/span\u003e\n            \u003cspan class=\"o\"\u003e|-\u003c/span\u003e\u003cspan class=\"n\"\u003eforms\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003epy\u003c/span\u003e\n            \u003cspan class=\"o\"\u003e|-\u003c/span\u003e\u003cspan class=\"n\"\u003eviews\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003epy\u003c/span\u003e\n        \u003cspan class=\"o\"\u003e|-\u003c/span\u003e\u003cspan class=\"n\"\u003estatic\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\n        \u003cspan class=\"o\"\u003e|-\u003c/span\u003e\u003cspan class=\"n\"\u003etemplates\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\n        \u003cspan class=\"o\"\u003e|-\u003c/span\u003e\u003cspan class=\"fm\"\u003e__init__\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003epy\u003c/span\u003e\n        \u003cspan class=\"o\"\u003e|-\u003c/span\u003e\u003cspan class=\"n\"\u003emodels\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003epy\u003c/span\u003e\n        \u003cspan class=\"o\"\u003e|-\u003c/span\u003e\u003cspan class=\"n\"\u003erequests\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003epy\u003c/span\u003e\n    \u003cspan class=\"o\"\u003e|-\u003c/span\u003e\u003cspan class=\"n\"\u003etests\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\n        \u003cspan class=\"o\"\u003e|-\u003c/span\u003e\u003cspan class=\"n\"\u003etest_movie\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003epy\u003c/span\u003e\n        \u003cspan class=\"o\"\u003e|-\u003c/span\u003e\u003cspan class=\"n\"\u003etest_review\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003epy\u003c/span\u003e\n    \u003cspan class=\"o\"\u003e|-\u003c/span\u003e\u003cspan class=\"n\"\u003evirtual\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\n    \u003cspan class=\"o\"\u003e|-\u003c/span\u003e\u003cspan class=\"n\"\u003econfig\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003epy\u003c/span\u003e\n    \u003cspan class=\"o\"\u003e|-.\u003c/span\u003e\u003cspan class=\"n\"\u003egitignore\u003c/span\u003e\n    \u003cspan class=\"o\"\u003e|-\u003c/span\u003e\u003cspan class=\"n\"\u003emanage\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003epy\u003c/span\u003e\n    \u003cspan class=\"o\"\u003e|-\u003c/span\u003e\u003cspan class=\"n\"\u003estart\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003esh\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003cp\u003ePlease pay careful attention to the instructions to minimize chances of errors while following along.\u003c/p\u003e\n\u003ch3\u003eApplication configurations\u003c/h3\u003e\n\u003cp\u003eWe will move\u003cspan\u003e\u0026nbsp;\u003c/span\u003e\u003cem\u003econfig.py\u003c/em\u003e\u003cspan\u003e\u0026nbsp;\u003c/span\u003efrom the\u003cspan\u003e\u0026nbsp;\u003c/span\u003e\u003ccode\u003eapp\u003c/code\u003e\u003cspan\u003e\u0026nbsp;\u003c/span\u003edirectory to the root directory.\u003c/p\u003e\n\u003cp\u003e\u003cem\u003econfig.py\u003c/em\u003e\u003c/p\u003e\n\u003cdiv class=\"codehilite\"\u003e\n\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e\u003ccode\u003e \u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"nn\"\u003eos\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eConfig\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n\n    \u003cspan class=\"n\"\u003eMOVIE_API_BASE_URL\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s1\"\u003e'https://api.themoviedb.org/3/movie/{}?api_key={}'\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eMOVIE_API_KEY\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eos\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eenviron\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'MOVIE_API_KEY'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eSECRET_KEY\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eos\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eenviron\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'SECRET_KEY'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n\n\u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eProdConfig\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eConfig\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epass\u003c/span\u003e\n\n\n\u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eDevConfig\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eConfig\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eDEBUG\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"bp\"\u003eTrue\u003c/span\u003e\n\n\u003cspan class=\"n\"\u003econfig_options\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\u003cspan class=\"s1\"\u003e'development'\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"n\"\u003eDevConfig\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n\u003cspan class=\"s1\"\u003e'production'\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"n\"\u003eProdConfig\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003cp\u003eWe update our\u003cspan\u003e\u0026nbsp;\u003c/span\u003e\u003cem\u003econfig.py\u003c/em\u003e\u003cspan\u003e\u0026nbsp;\u003c/span\u003efile. We first import the\u003cspan\u003e\u0026nbsp;\u003c/span\u003e\u003ccode\u003eos\u003c/code\u003e\u003cspan\u003e\u0026nbsp;\u003c/span\u003emodule that will allow our application to interact with the operating system dependent functionality. We use the\u003cspan\u003e\u0026nbsp;\u003c/span\u003e\u003ccode\u003eos.environ.get()\u003c/code\u003e\u003cspan\u003e\u0026nbsp;\u003c/span\u003efunction to get\u003cspan\u003e\u0026nbsp;\u003c/span\u003e\u003ccode\u003eMOVIE_API_KEY\u003c/code\u003e\u003cspan\u003e\u0026nbsp;\u003c/span\u003eand\u003cspan\u003e\u0026nbsp;\u003c/span\u003e\u003ccode\u003eSECRET_KEY\u003c/code\u003e\u003cspan\u003e\u0026nbsp;\u003c/span\u003ewhich we will set as environment variables.\u003c/p\u003e\n\u003cp\u003eWe then create a dictionary\u003cspan\u003e\u0026nbsp;\u003c/span\u003e\u003ccode\u003econfig_options\u003c/code\u003e\u003cspan\u003e\u0026nbsp;\u003c/span\u003eto help us access different configuration option classes.\u003c/p\u003e\n\u003cp\u003e### Application factory\u003c/p\u003e\n\u003cp\u003eOur application package is where most of the apps functionality is stored including static files and templates. How the application instance is created makes it difficult to apply configuration changes dynamically. This is useful when it comes to testing the application under different configurations. To solve this we create a function that can be launched from the script\u003c/p\u003e\n\u003cp\u003e\u003cem\u003eapp/__init__.py\u003c/em\u003e\u003c/p\u003e\n\u003cdiv class=\"codehilite\"\u003e\n\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e\u003ccode\u003e\u003cspan class=\"kn\"\u003efrom\u003c/span\u003e \u003cspan class=\"nn\"\u003eflask\u003c/span\u003e \u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"n\"\u003eFlask\u003c/span\u003e\n\u003cspan class=\"kn\"\u003efrom\u003c/span\u003e \u003cspan class=\"nn\"\u003eflask_bootstrap\u003c/span\u003e \u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"n\"\u003eBootstrap\u003c/span\u003e\n\u003cspan class=\"kn\"\u003efrom\u003c/span\u003e \u003cspan class=\"nn\"\u003econfig\u003c/span\u003e \u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"n\"\u003econfig_options\u003c/span\u003e\n\n\u003cspan class=\"n\"\u003ebootstrap\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eBootstrap\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nf\"\u003ecreate_app\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003econfig_name\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\n\n    \u003cspan class=\"n\"\u003eapp\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eFlask\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"vm\"\u003e__name__\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n    \u003cspan class=\"c1\"\u003e# Creating the app configurations\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eapp\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003econfig\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003efrom_object\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003econfig_options\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003econfig_name\u003c/span\u003e\u003cspan class=\"p\"\u003e])\u003c/span\u003e\n\n    \u003cspan class=\"c1\"\u003e# Initializing flask extensions\u003c/span\u003e\n    \u003cspan class=\"n\"\u003ebootstrap\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003einit_app\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eapp\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n    \u003cspan class=\"c1\"\u003e# Will add the views and forms\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"n\"\u003eapp\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003cp\u003eWe update our\u003cspan\u003e\u0026nbsp;\u003c/span\u003e\u003cem\u003eapp/__init__.py\u003c/em\u003e\u003cspan\u003e\u0026nbsp;\u003c/span\u003eto create our application factory function. We import import the\u003cspan\u003e\u0026nbsp;\u003c/span\u003e\u003ccode\u003econfig_options\u003c/code\u003e\u003cspan\u003e\u0026nbsp;\u003c/span\u003efrom the the\u003cspan\u003e\u0026nbsp;\u003c/span\u003e\u003cem\u003econfig.py\u003c/em\u003e\u003cspan\u003e\u0026nbsp;\u003c/span\u003efile that we updated. We then create the\u003cspan\u003e\u0026nbsp;\u003c/span\u003e\u003ccode\u003ebootstrap\u003c/code\u003e\u003cspan\u003e\u0026nbsp;\u003c/span\u003einstance.\u003c/p\u003e\n\u003cp\u003eWe create a\u003cspan\u003e\u0026nbsp;\u003c/span\u003e\u003ccode\u003ecreate_app()\u003c/code\u003e\u003cspan\u003e\u0026nbsp;\u003c/span\u003efunction that takes the configuration setting key as an argument. This is because we might want to create the application instance under different configurations. We then create the\u003cspan\u003e\u0026nbsp;\u003c/span\u003e\u003ccode\u003eFlask\u003c/code\u003e\u003cspan\u003e\u0026nbsp;\u003c/span\u003eapp instance. We then import the configuration settings directly to the application using the\u003cspan\u003e\u0026nbsp;\u003c/span\u003e\u003ccode\u003efrom_object()\u003c/code\u003emethod. We remove the\u003cspan\u003e\u0026nbsp;\u003c/span\u003e\u003ccode\u003eapp.config.from_pyfile(\"config.py\")\u003c/code\u003e\u003cspan\u003e\u0026nbsp;\u003c/span\u003estatement because all our secret configuration settings will be stored as environment variables.\u003c/p\u003e\n\u003cp\u003eWe call the\u003cspan\u003e\u0026nbsp;\u003c/span\u003e\u003ccode\u003einit_app()\u003c/code\u003e\u003cspan\u003e\u0026nbsp;\u003c/span\u003eon an extension to complete on their initialization.Finally we return\u003cspan\u003e\u0026nbsp;\u003c/span\u003e\u003ccode\u003eapp\u003c/code\u003e.\u003c/p\u003e\n\u003ch3\u003eCreating Blueprints\u003c/h3\u003e\n\u003cp\u003eWe now run into another problem. In our previous application structure the\u003cspan\u003e\u0026nbsp;\u003c/span\u003e\u003ccode\u003eapp\u003c/code\u003einstance was available in the global scope now it is created at runtime.Functionality like\u003cspan\u003e\u0026nbsp;\u003c/span\u003e\u003ccode\u003e@app.route()\u003c/code\u003e\u003cspan\u003e\u0026nbsp;\u003c/span\u003ecannot work until the\u003cspan\u003e\u0026nbsp;\u003c/span\u003e\u003ccode\u003ecreate_app()\u003c/code\u003e\u003cspan\u003e\u0026nbsp;\u003c/span\u003eis executed. This is where\u003cspan\u003e\u0026nbsp;\u003c/span\u003e\u003cstrong\u003eBlueprints\u003c/strong\u003e\u003cspan\u003e\u0026nbsp;\u003c/span\u003ecome in handy.\u003c/p\u003e\n\u003cp\u003eA\u003cspan\u003e\u0026nbsp;\u003c/span\u003e\u003cstrong\u003eBlueprint\u003c/strong\u003e\u003cspan\u003e\u0026nbsp;\u003c/span\u003eis similar to an application in that it can also define routes.The main difference is that blueprints are dormant until they are registered by an application.\u003c/p\u003e\n\u003cp\u003eInside the app instance create a new folder\u003cspan\u003e\u0026nbsp;\u003c/span\u003e\u003cem\u003emain\u003c/em\u003e\u003cspan\u003e\u0026nbsp;\u003c/span\u003ethis is where we will define our blueprint. We move our\u003cspan\u003e\u0026nbsp;\u003c/span\u003e\u003cem\u003eerrors.py\u003c/em\u003e\u003cspan\u003e\u0026nbsp;\u003c/span\u003e\u003cem\u003eforms.py\u003c/em\u003e\u003cspan\u003e\u0026nbsp;\u003c/span\u003eand\u003cspan\u003e\u0026nbsp;\u003c/span\u003e\u003cem\u003eviews.py\u003c/em\u003e\u003cspan\u003e\u0026nbsp;\u003c/span\u003efiles from our app folder into our\u003cspan\u003e\u0026nbsp;\u003c/span\u003e\u003cem\u003eapp/main\u003c/em\u003e\u003cspan\u003e\u0026nbsp;\u003c/span\u003esubfolder. We will also create an\u003cspan\u003e\u0026nbsp;\u003c/span\u003e\u003cem\u003e__init__.py\u003c/em\u003e\u003cspan\u003e\u0026nbsp;\u003c/span\u003efile inside our\u003cspan\u003e\u0026nbsp;\u003c/span\u003e\u003cem\u003eapp/main\u003c/em\u003e\u003cspan\u003e\u0026nbsp;\u003c/span\u003esubfolder to define the Blueprint.\u003c/p\u003e\n\u003cp\u003e\u003cem\u003eapp/main/__init__.py\u003c/em\u003e\u003c/p\u003e\n\u003cdiv class=\"codehilite\"\u003e\n\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e\u003ccode\u003e\u003cspan class=\"kn\"\u003efrom\u003c/span\u003e \u003cspan class=\"nn\"\u003eflask\u003c/span\u003e \u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"n\"\u003eBlueprint\u003c/span\u003e\n\u003cspan class=\"n\"\u003emain\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eBlueprint\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'main'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"vm\"\u003e__name__\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"kn\"\u003efrom\u003c/span\u003e \u003cspan class=\"nn\"\u003e.\u003c/span\u003e \u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"n\"\u003eviews\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"n\"\u003eerrors\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003cp\u003eWe import the\u003cspan\u003e\u0026nbsp;\u003c/span\u003e\u003ccode\u003eBlueprint\u003c/code\u003e\u003cspan\u003e\u0026nbsp;\u003c/span\u003eclass from flask. We then initialize the\u003cspan\u003e\u0026nbsp;\u003c/span\u003e\u003ccode\u003eBlueprint\u003c/code\u003e\u003cspan\u003e\u0026nbsp;\u003c/span\u003eclass by creating a variable\u003cspan\u003e\u0026nbsp;\u003c/span\u003e\u003ccode\u003emain\u003c/code\u003e. The\u003cspan\u003e\u0026nbsp;\u003c/span\u003e\u003ccode\u003eBlueprint\u003c/code\u003e\u003cspan\u003e\u0026nbsp;\u003c/span\u003eclass takes in 2 arguments. The name of the blueprint and the\u003cspan\u003e\u0026nbsp;\u003c/span\u003e\u003ccode\u003e__name__\u003c/code\u003e\u003cspan\u003e\u0026nbsp;\u003c/span\u003evariable to find the location of the blueprint.\u003c/p\u003e\n\u003cp\u003eTo avoid circular dependencies we import the\u003cspan\u003e\u0026nbsp;\u003c/span\u003e\u003cem\u003eviews\u003c/em\u003e\u003cspan\u003e\u0026nbsp;\u003c/span\u003eand\u003cspan\u003e\u0026nbsp;\u003c/span\u003e\u003cem\u003eerrors\u003c/em\u003e\u003cspan\u003e\u0026nbsp;\u003c/span\u003emodules.\u003c/p\u003e\n\u003ch3\u003eRegistering a Blueprint\u003c/h3\u003e\n\u003cdiv class=\"codehilite\"\u003e\n\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nf\"\u003ecreate_app\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003econfig_name\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eapp\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eFlask\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"vm\"\u003e__name__\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n    \u003cspan class=\"c1\"\u003e# Creating the app configurations\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eapp\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003econfig\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003efrom_object\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003econfig_options\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003econfig_name\u003c/span\u003e\u003cspan class=\"p\"\u003e])\u003c/span\u003e\n\n    \u003cspan class=\"c1\"\u003e# Initializing flask extensions\u003c/span\u003e\n    \u003cspan class=\"n\"\u003ebootstrap\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003einit_app\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eapp\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n    \u003cspan class=\"c1\"\u003e# Registering the blueprint\u003c/span\u003e\n    \u003cspan class=\"kn\"\u003efrom\u003c/span\u003e \u003cspan class=\"nn\"\u003e.main\u003c/span\u003e \u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"n\"\u003emain\u003c/span\u003e \u003cspan class=\"k\"\u003eas\u003c/span\u003e \u003cspan class=\"n\"\u003emain_blueprint\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eapp\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eregister_blueprint\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003emain_blueprint\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"n\"\u003eapp\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003cp\u003eWe register a Blueprint inside our application factory function. We first import the instance we just created then we call the\u003cspan\u003e\u0026nbsp;\u003c/span\u003e\u003ccode\u003eregister_blueprint()\u003c/code\u003e\u003cspan\u003e\u0026nbsp;\u003c/span\u003emethod on the application instance and pass in the blueprint.\u003c/p\u003e\n\u003ch3\u003eBlueprint Error handlers\u003c/h3\u003e\n\u003cp\u003eThe main difference with writing error handlers inside a blueprint is that it is invoked only inside the blueprint. To use application-wide error handler we must use the\u003cspan\u003e\u0026nbsp;\u003c/span\u003e\u003ccode\u003eapp_errorhandler()\u003c/code\u003e\u003cspan\u003e\u0026nbsp;\u003c/span\u003edecorator.\u003c/p\u003e\n\u003cp\u003e\u003cem\u003eapp/main/errors.py\u003c/em\u003e\u003c/p\u003e\n\u003cdiv class=\"codehilite\"\u003e\n\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e\u003ccode\u003e\u003cspan class=\"kn\"\u003efrom\u003c/span\u003e \u003cspan class=\"nn\"\u003eflask\u003c/span\u003e \u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"n\"\u003erender_template\u003c/span\u003e\n\u003cspan class=\"kn\"\u003efrom\u003c/span\u003e \u003cspan class=\"nn\"\u003e.\u003c/span\u003e \u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"n\"\u003emain\u003c/span\u003e\n\n\u003cspan class=\"nd\"\u003e@main.app_errorhandler\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e404\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nf\"\u003efour_Ow_four\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eerror\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\n    \u003cspan class=\"sd\"\u003e'''\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e    Function to render the 404 error page\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e    '''\u003c/span\u003e\n    \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"n\"\u003erender_template\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'fourOwfour.html'\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e\u003cspan class=\"mi\"\u003e404\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003cp\u003eSince we are defining our error handler inside our blueprint we import the blueprint instance\u003cspan\u003e\u0026nbsp;\u003c/span\u003e\u003ccode\u003emain\u003c/code\u003e\u003cspan\u003e\u0026nbsp;\u003c/span\u003eand use it to define our decorator.\u003c/p\u003e\n\u003ch3\u003eModels\u003c/h3\u003e\n\u003cp\u003eWe create a\u003cspan\u003e\u0026nbsp;\u003c/span\u003e\u003cem\u003emodels.py\u003c/em\u003e\u003cspan\u003e\u0026nbsp;\u003c/span\u003efile inside our app folder that will contain our\u003cspan\u003e\u0026nbsp;\u003c/span\u003e\u003ccode\u003eMovie\u003c/code\u003e\u003cspan\u003e\u0026nbsp;\u003c/span\u003eand\u003cspan\u003e\u0026nbsp;\u003c/span\u003e\u003ccode\u003eReview\u003c/code\u003e\u003cspan\u003e\u0026nbsp;\u003c/span\u003emodels.\u003c/p\u003e\n\u003cp\u003e\u003cem\u003eapp/models.py\u003c/em\u003e\u003c/p\u003e\n\u003cdiv class=\"codehilite\"\u003e\n\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eMovie\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n    \u003cspan class=\"sd\"\u003e'''\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e    Movie class to define Movie Objects\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e    '''\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"fm\"\u003e__init__\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"nb\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"n\"\u003etitle\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"n\"\u003eoverview\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"n\"\u003eposter\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"n\"\u003evote_average\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"n\"\u003evote_count\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\n        \u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eid\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"nb\"\u003eid\u003c/span\u003e\n        \u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003etitle\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003etitle\u003c/span\u003e\n        \u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eoverview\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eoverview\u003c/span\u003e\n        \u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eposter\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"https://image.tmdb.org/t/p/w500/\"\u003c/span\u003e \u003cspan class=\"o\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003eposter\u003c/span\u003e\n        \u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003evote_average\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003evote_average\u003c/span\u003e\n        \u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003evote_count\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003evote_count\u003c/span\u003e\n\n\n\n\u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eReview\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n\n    \u003cspan class=\"n\"\u003eall_reviews\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e[]\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"fm\"\u003e__init__\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"n\"\u003emovie_id\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"n\"\u003etitle\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"n\"\u003eimageurl\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"n\"\u003ereview\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\n        \u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003emovie_id\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003emovie_id\u003c/span\u003e\n        \u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003etitle\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003etitle\u003c/span\u003e\n        \u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eimageurl\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eimageurl\u003c/span\u003e\n        \u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ereview\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ereview\u003c/span\u003e\n\n\n    \u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nf\"\u003esave_review\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eReview\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eall_reviews\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eappend\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n\n    \u003cspan class=\"nd\"\u003e@classmethod\u003c/span\u003e\n    \u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nf\"\u003eclear_reviews\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"bp\"\u003ecls\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eReview\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eall_reviews\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eclear\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n\n    \u003cspan class=\"nd\"\u003e@classmethod\u003c/span\u003e\n    \u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nf\"\u003eget_reviews\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"bp\"\u003ecls\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"nb\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\n\n        \u003cspan class=\"n\"\u003eresponse\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e[]\u003c/span\u003e\n\n        \u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"n\"\u003ereview\u003c/span\u003e \u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"bp\"\u003ecls\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eall_reviews\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"n\"\u003ereview\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003emovie_id\u003c/span\u003e \u003cspan class=\"o\"\u003e==\u003c/span\u003e \u003cspan class=\"nb\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eresponse\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eappend\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ereview\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n        \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"n\"\u003eresponse\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003cp\u003eWe create place both our\u003cspan\u003e\u0026nbsp;\u003c/span\u003e\u003ccode\u003eReview\u003c/code\u003e\u003cspan\u003e\u0026nbsp;\u003c/span\u003eand\u003cspan\u003e\u0026nbsp;\u003c/span\u003e\u003ccode\u003eModel\u003c/code\u003e\u003cspan\u003e\u0026nbsp;\u003c/span\u003eclasses inside the _models.py_ file. We can now delete the models folder from our app directory.\u003c/p\u003e\n\u003ch3\u003eRequests\u003c/h3\u003e\n\u003cp\u003e\u003cem\u003eapp/requests.py\u003c/em\u003e\u003c/p\u003e\n\u003cdiv class=\"codehilite\"\u003e\n\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e\u003ccode\u003e\u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"nn\"\u003eurllib.request\u003c/span\u003e\u003cspan class=\"o\"\u003e,\u003c/span\u003e\u003cspan class=\"nn\"\u003ejson\u003c/span\u003e\n\u003cspan class=\"kn\"\u003efrom\u003c/span\u003e \u003cspan class=\"nn\"\u003e.models\u003c/span\u003e \u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"n\"\u003eMovie\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e#....\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003cp\u003eWe first update our imports by importing the\u003cspan\u003e\u0026nbsp;\u003c/span\u003e\u003ccode\u003eMovie\u003c/code\u003e\u003cspan\u003e\u0026nbsp;\u003c/span\u003eclass from the new _app/models.py_ file we have just created.\u003c/p\u003e\n\u003cp\u003e\u003cem\u003eapp/requests.py\u003c/em\u003e\u003c/p\u003e\n\u003cdiv class=\"codehilite\"\u003e\n\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e\u003ccode\u003e\u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"nn\"\u003eurllib.request\u003c/span\u003e\u003cspan class=\"o\"\u003e,\u003c/span\u003e\u003cspan class=\"nn\"\u003ejson\u003c/span\u003e\n\u003cspan class=\"kn\"\u003efrom\u003c/span\u003e \u003cspan class=\"nn\"\u003e.models\u003c/span\u003e \u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"n\"\u003eMovie\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e# Getting api key\u003c/span\u003e\n\u003cspan class=\"n\"\u003eapi_key\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"bp\"\u003eNone\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e# Getting the movie base url\u003c/span\u003e\n\u003cspan class=\"n\"\u003ebase_url\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"bp\"\u003eNone\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nf\"\u003econfigure_request\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eapp\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eglobal\u003c/span\u003e \u003cspan class=\"n\"\u003eapi_key\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"n\"\u003ebase_url\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eapi_key\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eapp\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003econfig\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s1\"\u003e'MOVIE_API_KEY'\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n    \u003cspan class=\"n\"\u003ebase_url\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eapp\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003econfig\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s1\"\u003e'MOVIE_API_BASE_URL'\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e#....\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003cp\u003eWe then create two variables\u003cspan\u003e\u0026nbsp;\u003c/span\u003e\u003ccode\u003eapi_key\u003c/code\u003e\u003cspan\u003e\u0026nbsp;\u003c/span\u003eand\u003cspan\u003e\u0026nbsp;\u003c/span\u003e\u003ccode\u003ebase_url\u003c/code\u003e\u003cspan\u003e\u0026nbsp;\u003c/span\u003eand set them to\u003cspan\u003e\u0026nbsp;\u003c/span\u003e\u003ccode\u003eNone\u003c/code\u003e. We then create a function\u003cspan\u003e\u0026nbsp;\u003c/span\u003e\u003ccode\u003econfigure_request()\u003c/code\u003e\u003cspan\u003e\u0026nbsp;\u003c/span\u003ethat takes in the application instance and replaces the values of the None variables to application configuration objects.\u003c/p\u003e\n\u003cp\u003eBecause we cannot access the application instance globally we need to call this function when we create our application instance. This will give us access to the application configuration objects.\u003c/p\u003e\n\u003cp\u003e\u003cem\u003eapp/__init__.py\u003c/em\u003e\u003c/p\u003e\n\u003cdiv class=\"codehilite\"\u003e\n\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nf\"\u003ecreate_app\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003econfig_name\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e#....\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e# Registering the blueprint\u003c/span\u003e\n    \u003cspan class=\"kn\"\u003efrom\u003c/span\u003e \u003cspan class=\"nn\"\u003e.main\u003c/span\u003e \u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"n\"\u003emain\u003c/span\u003e \u003cspan class=\"k\"\u003eas\u003c/span\u003e \u003cspan class=\"n\"\u003emain_blueprint\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eapp\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eregister_blueprint\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003emain_blueprint\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n    \u003cspan class=\"c1\"\u003e# setting config\u003c/span\u003e\n    \u003cspan class=\"kn\"\u003efrom\u003c/span\u003e \u003cspan class=\"nn\"\u003e.requests\u003c/span\u003e \u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"n\"\u003econfigure_request\u003c/span\u003e\n    \u003cspan class=\"n\"\u003econfigure_request\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eapp\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"n\"\u003eapp\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003cp\u003eInside our\u003cspan\u003e\u0026nbsp;\u003c/span\u003e\u003cem\u003eapp/__init__.py\u003c/em\u003e\u003cspan\u003e\u0026nbsp;\u003c/span\u003efile we import the\u003cspan\u003e\u0026nbsp;\u003c/span\u003e\u003ccode\u003econfigure_request()\u003c/code\u003e\u003cspan\u003e\u0026nbsp;\u003c/span\u003efunction from the\u003cspan\u003e\u0026nbsp;\u003c/span\u003e\u003cem\u003erequest.py\u003c/em\u003e\u003cspan\u003e\u0026nbsp;\u003c/span\u003efile. We call the function and pass the\u003cspan\u003e\u0026nbsp;\u003c/span\u003e\u003ccode\u003eapp\u003c/code\u003e\u003cspan\u003e\u0026nbsp;\u003c/span\u003einstance.\u003c/p\u003e\n\u003ch3\u003eBlueprint views\u003c/h3\u003e\n\u003cp\u003eNow we can update our\u003cspan\u003e\u0026nbsp;\u003c/span\u003e\u003cem\u003emain/views.py\u003c/em\u003e\u003cspan\u003e\u0026nbsp;\u003c/span\u003efile.\u003c/p\u003e\n\u003cp\u003e\u003cem\u003emain/views.py\u003c/em\u003e\u003c/p\u003e\n\u003cdiv class=\"codehilite\"\u003e\n\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e\u003ccode\u003e\u003cspan class=\"kn\"\u003efrom\u003c/span\u003e \u003cspan class=\"nn\"\u003eflask\u003c/span\u003e \u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"n\"\u003erender_template\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"n\"\u003erequest\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"n\"\u003eredirect\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"n\"\u003eurl_for\u003c/span\u003e\n\u003cspan class=\"kn\"\u003efrom\u003c/span\u003e \u003cspan class=\"nn\"\u003e.\u003c/span\u003e \u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"n\"\u003emain\u003c/span\u003e\n\u003cspan class=\"kn\"\u003efrom\u003c/span\u003e \u003cspan class=\"nn\"\u003e..requests\u003c/span\u003e \u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"n\"\u003eget_movies\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"n\"\u003eget_movie\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"n\"\u003esearch_movie\u003c/span\u003e\n\u003cspan class=\"kn\"\u003efrom\u003c/span\u003e \u003cspan class=\"nn\"\u003e.forms\u003c/span\u003e \u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"n\"\u003eReviewForm\u003c/span\u003e\n\u003cspan class=\"kn\"\u003efrom\u003c/span\u003e \u003cspan class=\"nn\"\u003e..models\u003c/span\u003e \u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"n\"\u003eReview\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e#...\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003cp\u003eWe first update our files imports. We use the python relative import system in order to import a module according to where it is located in our project. We use one dot\u003cspan\u003e\u0026nbsp;\u003c/span\u003e\u003ccode\u003e.modulename\u003c/code\u003e\u003cspan\u003e\u0026nbsp;\u003c/span\u003eto import modules that are located within the same package, and two dots\u0026nbsp;\u003ccode\u003e..modulename\u003c/code\u003e\u003cspan\u003e\u0026nbsp;\u003c/span\u003efor modules located in a package higher up in the project hierarchy.\u003c/p\u003e\n\u003cp\u003eWe then define our route decorators using the\u003cspan\u003e\u0026nbsp;\u003c/span\u003e\u003ccode\u003emain\u003c/code\u003e\u003cspan\u003e\u0026nbsp;\u003c/span\u003eblueprint instance instead of the app instance\u003c/p\u003e\n\u003cp\u003e\u003cem\u003emain/views.py\u003c/em\u003e\u003c/p\u003e\n\u003cdiv class=\"codehilite\"\u003e\n\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e\u003ccode\u003e\u003cspan class=\"c1\"\u003e# ...\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e# Views\u003c/span\u003e\n\u003cspan class=\"nd\"\u003e@main.route\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'/'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nf\"\u003eindex\u003c/span\u003e\u003cspan class=\"p\"\u003e():\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e#....\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003cp\u003e\u003cstrong\u003eTask\u003c/strong\u003e: Define all the remaining routes with the appropriate decorators.\u003c/p\u003e\n\u003ch4\u003eurl_for() functions in Blueprints\u003c/h4\u003e\n\u003cp\u003eFlask adds a\u003cspan\u003e\u0026nbsp;\u003c/span\u003e\u003cstrong\u003enamespace\u003c/strong\u003e\u003cspan\u003e\u0026nbsp;\u003c/span\u003eto all endpoints from a blueprint. The namespace is generally the name of the blueprint. For example the\u003cspan\u003e\u0026nbsp;\u003c/span\u003e\u003ccode\u003eindex()\u003c/code\u003e\u003cspan\u003e\u0026nbsp;\u003c/span\u003eview function is registerd as\u003cspan\u003e\u0026nbsp;\u003c/span\u003e\u003ccode\u003eurl_for('main.index')\u003c/code\u003e.\u003cspan\u003e\u0026nbsp;\u003c/span\u003e\u003ccode\u003eurl_for\u003c/code\u003e\u003cspan\u003e\u0026nbsp;\u003c/span\u003ealso supports a shorthand format using\u003cspan\u003e\u0026nbsp;\u003c/span\u003e\u003ccode\u003e.\u003c/code\u003e.\u003cspan\u003e\u0026nbsp;\u003c/span\u003e\u003ccode\u003eurl_for('main.index')\u003c/code\u003e\u003cspan\u003e\u0026nbsp;\u003c/span\u003ecan be shortened to\u003cspan\u003e\u0026nbsp;\u003c/span\u003e\u003ccode\u003eurl_for('.index')\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eTask\u003c/strong\u003e: Update the\u003cspan\u003e\u0026nbsp;\u003c/span\u003e\u003ccode\u003eurl_for\u003c/code\u003e\u003cspan\u003e\u0026nbsp;\u003c/span\u003efunction in the\u003cspan\u003e\u0026nbsp;\u003c/span\u003e\u003ccode\u003eindex\u003c/code\u003e\u003cspan\u003e\u0026nbsp;\u003c/span\u003eand\u003cspan\u003e\u0026nbsp;\u003c/span\u003e\u003ccode\u003enew_review\u003c/code\u003e\u003cspan\u003e\u0026nbsp;\u003c/span\u003eview functions with the proper namespace.\u003c/p\u003e\n\u003ch3\u003eUnittests\u003c/h3\u003e\n\u003cp\u003eWe now move our\u003cspan\u003e\u0026nbsp;\u003c/span\u003e\u003ccode\u003etest_movie.py\u003c/code\u003e\u003cspan\u003e\u0026nbsp;\u003c/span\u003eand\u003cspan\u003e\u0026nbsp;\u003c/span\u003e\u003ccode\u003etest_review.py\u003c/code\u003e\u003cspan\u003e\u0026nbsp;\u003c/span\u003efiles from our app folder into our tests folder.\u003c/p\u003e\n\u003cp\u003e\u003cem\u003etests/test_movie.py\u003c/em\u003e\u003c/p\u003e\n\u003cdiv class=\"codehilite\"\u003e\n\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e\u003ccode\u003e\u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"nn\"\u003eunittest\u003c/span\u003e\n\u003cspan class=\"kn\"\u003efrom\u003c/span\u003e \u003cspan class=\"nn\"\u003eapp.models\u003c/span\u003e \u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"n\"\u003eMovie\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eMovieTest\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eunittest\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eTestCase\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\n    \u003cspan class=\"sd\"\u003e'''\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e    Test Class to test the behaviour of the Movie class\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e    '''\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nf\"\u003esetUp\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\n        \u003cspan class=\"sd\"\u003e'''\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        Set up method that will run before every Test\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        '''\u003c/span\u003e\n        \u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003enew_movie\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eMovie\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e1234\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"s1\"\u003e'Python Must Be Crazy'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"s1\"\u003e'A thrilling new Python Series'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"s1\"\u003e'/khsjha27hbs'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"mf\"\u003e8.5\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"mi\"\u003e129993\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nf\"\u003etest_instance\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\n        \u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eassertTrue\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003eisinstance\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003enew_movie\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"n\"\u003eMovie\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003cp\u003eWe update our imports where we import our\u003cspan\u003e\u0026nbsp;\u003c/span\u003e\u003ccode\u003eMovie\u003c/code\u003e\u003cspan\u003e\u0026nbsp;\u003c/span\u003eclass from the the\u003cspan\u003e\u0026nbsp;\u003c/span\u003e\u003cem\u003emodules.py\u003c/em\u003efile inside our app directory.\u003c/p\u003e\n\u003cp\u003eWe then remove the\u003cspan\u003e\u0026nbsp;\u003c/span\u003e\u003ccode\u003eunittest.run()\u003c/code\u003e\u003cspan\u003e\u0026nbsp;\u003c/span\u003ecommand from the bottom of our file. We will consider how to run unittests later on. For now leave your file like this.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eTask\u003c/strong\u003e: Update the\u003cspan\u003e\u0026nbsp;\u003c/span\u003e\u003cem\u003etest_review.py\u003c/em\u003e\u003cspan\u003e\u0026nbsp;\u003c/span\u003efile with the correct imports and remove the\u003cspan\u003e\u0026nbsp;\u003c/span\u003e\u003ccode\u003eunittest.run()\u003c/code\u003e\u003cspan\u003e\u0026nbsp;\u003c/span\u003ecommand from the bottom of the file.\u003c/p\u003e\n\u003ch3\u003eRunning our Application\u003c/h3\u003e\n\u003cp\u003eNow that we have properly configured our application structure we can now launch our application. We will use a flask extension called Flask-Script that is a command line parser that will allow us to create startup configurations.\u003c/p\u003e\n\u003cp\u003eFirst install flask-script:\u003c/p\u003e\n\u003cdiv class=\"codehilite\"\u003e\n\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e\u003ccode\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003evirtual\u003cspan class=\"o\"\u003e)\u003c/span\u003e$ pip install flask-script\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003cp\u003eRename\u003cspan\u003e\u0026nbsp;\u003c/span\u003e\u003cem\u003erun.py\u003c/em\u003e\u003cspan\u003e\u0026nbsp;\u003c/span\u003efile to\u003cspan\u003e\u0026nbsp;\u003c/span\u003e\u003cem\u003emanage.py\u003c/em\u003e\u003cspan\u003e\u0026nbsp;\u003c/span\u003eand then setup flask-script.\u003c/p\u003e\n\u003cp\u003e\u003cem\u003emanage.py\u003c/em\u003e\u003c/p\u003e\n\u003cdiv class=\"codehilite\"\u003e\n\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e\u003ccode\u003e\u003cspan class=\"kn\"\u003efrom\u003c/span\u003e \u003cspan class=\"nn\"\u003eapp\u003c/span\u003e \u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"n\"\u003ecreate_app\u003c/span\u003e\n\u003cspan class=\"kn\"\u003efrom\u003c/span\u003e \u003cspan class=\"nn\"\u003eflask_script\u003c/span\u003e \u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"n\"\u003eManager\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"n\"\u003eServer\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e#...\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003cp\u003eWe first import the\u003cspan\u003e\u0026nbsp;\u003c/span\u003e\u003ccode\u003ecreate_app\u003c/code\u003e\u003cspan\u003e\u0026nbsp;\u003c/span\u003efunction from our app folder. We also import the\u003cspan\u003e\u0026nbsp;\u003c/span\u003e\u003ccode\u003eManager\u003c/code\u003e\u003cspan\u003e\u0026nbsp;\u003c/span\u003eclass from flask-script that will initialize our extension and the\u003cspan\u003e\u0026nbsp;\u003c/span\u003e\u003ccode\u003eServer\u003c/code\u003e\u003cspan\u003e\u0026nbsp;\u003c/span\u003eclass that help us launch our server.\u003c/p\u003e\n\u003cp\u003e\u003cem\u003emanage.py\u003c/em\u003e\u003c/p\u003e\n\u003cdiv class=\"codehilite\"\u003e\n\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e\u003ccode\u003e\u003cspan class=\"c1\"\u003e# ...\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e# Creating app instance\u003c/span\u003e\n\u003cspan class=\"n\"\u003eapp\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ecreate_app\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'development'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n\u003cspan class=\"n\"\u003emanager\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eManager\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eapp\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"n\"\u003emanager\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eadd_command\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'server'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"n\"\u003eServer\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003cp\u003eWe then call the\u003cspan\u003e\u0026nbsp;\u003c/span\u003e\u003ccode\u003ecreate_app\u003c/code\u003e\u003cspan\u003e\u0026nbsp;\u003c/span\u003efunction and pass in the configuration_options key so as to create the application instance. We instantiate the\u003cspan\u003e\u0026nbsp;\u003c/span\u003e\u003ccode\u003eManager\u003c/code\u003e\u003cspan\u003e\u0026nbsp;\u003c/span\u003eclass by passing in the app instance. We then create a command line argument to tell us how to run our application. We use the\u003cspan\u003e\u0026nbsp;\u003c/span\u003e\u003ccode\u003eadd_command\u003c/code\u003e\u003cspan\u003e\u0026nbsp;\u003c/span\u003emethod to create a new command\u003cspan\u003e\u0026nbsp;\u003c/span\u003e\u003ccode\u003e'server'\u003c/code\u003e\u003cspan\u003e\u0026nbsp;\u003c/span\u003ewhich will launch our application server.\u003c/p\u003e\n\u003cp\u003e\u003cem\u003emanage.py\u003c/em\u003e\u003c/p\u003e\n\u003cdiv class=\"codehilite\"\u003e\n\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e\u003ccode\u003e\u003cspan class=\"c1\"\u003e# ...\u003c/span\u003e\n\u003cspan class=\"n\"\u003emanager\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eadd_command\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'server'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"n\"\u003eServer\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"vm\"\u003e__name__\u003c/span\u003e \u003cspan class=\"o\"\u003e==\u003c/span\u003e \u003cspan class=\"s1\"\u003e'__main__'\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n    \u003cspan class=\"n\"\u003emanager\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003erun\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003cp\u003eWe end the file by calling the\u003cspan\u003e\u0026nbsp;\u003c/span\u003e\u003ccode\u003erun\u003c/code\u003e\u003cspan\u003e\u0026nbsp;\u003c/span\u003emethod on the Manager instance this will run the application.\u003c/p\u003e\n\u003cp\u003eNow we can run our application\u003c/p\u003e\n\u003cdiv class=\"codehilite\"\u003e\n\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e\u003ccode\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003evirtual\u003cspan class=\"o\"\u003e)\u003c/span\u003e$ \u003cspan class=\"nb\"\u003eexport\u003c/span\u003e \u003cspan class=\"nv\"\u003eMOVIE_API_KEY\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u0026lt;Your api key\u0026gt;\n\u003cspan class=\"o\"\u003e(\u003c/span\u003evirtual\u003cspan class=\"o\"\u003e)\u003c/span\u003e$ \u003cspan class=\"nb\"\u003eexport\u003c/span\u003e \u003cspan class=\"nv\"\u003eSECRET_KEY\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u0026lt;Your secret key\u0026gt;\n\u003cspan class=\"o\"\u003e(\u003c/span\u003evirtual\u003cspan class=\"o\"\u003e)\u003c/span\u003e$ python3.6  manage.py server\n * Running on http://127.0.0.1:5000/ \u003cspan class=\"o\"\u003e(\u003c/span\u003ePress CTRL+C to quit\u003cspan class=\"o\"\u003e)\u003c/span\u003e\n * Restarting with stat\n * Debugger is active!\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003cp\u003eRunning your application this way everytime can get tedious we can create a start file that will setup our environment variables and run our application for us.\u003c/p\u003e\n\u003cp\u003eInside our root directory create a new file\u003cspan\u003e\u0026nbsp;\u003c/span\u003e\u003cem\u003estart.sh\u003c/em\u003e\u003c/p\u003e\n\u003cp\u003e\u003cem\u003estart.sh\u003c/em\u003e\u003c/p\u003e\n\u003cdiv class=\"codehilite\"\u003e\n\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e\u003ccode\u003e \u003cspan class=\"nb\"\u003eexport\u003c/span\u003e \u003cspan class=\"nv\"\u003eMOVIE_API_KEY\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u0026lt;Your api key\u0026gt;\n\u003cspan class=\"nb\"\u003eexport\u003c/span\u003e \u003cspan class=\"nv\"\u003eSECRET_KEY\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u0026lt;Your secret key\u0026gt;\n\npython3.6 manage.py server\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003cp\u003eWe then can make that file executable by running\u003cspan\u003e\u0026nbsp;\u003c/span\u003e\u003ccode\u003echmod a+x\u003c/code\u003e.\u003c/p\u003e\n\u003cdiv class=\"codehilite\"\u003e\n\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e\u003ccode\u003e \u003cspan class=\"o\"\u003e(\u003c/span\u003evirtual\u003cspan class=\"o\"\u003e)\u003c/span\u003e$ chmod a+x start.sh\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003cp\u003eNow we can run our application very easily\u003c/p\u003e\n\u003cdiv class=\"codehilite\"\u003e\n\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e\u003ccode\u003e \u003cspan class=\"o\"\u003e(\u003c/span\u003evirtual\u003cspan class=\"o\"\u003e)\u003c/span\u003e$ ./start.sh\n * Running on http://127.0.0.1:5000/ \u003cspan class=\"o\"\u003e(\u003c/span\u003ePress CTRL+C to quit\u003cspan class=\"o\"\u003e)\u003c/span\u003e\n * Restarting with stat\n * Debugger is active!\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003ch3\u003eRunning unittests\u003c/h3\u003e\n\u003cp\u003eWe can use the\u003cspan\u003e\u0026nbsp;\u003c/span\u003e\u003ccode\u003emanager\u003c/code\u003e\u003cspan\u003e\u0026nbsp;\u003c/span\u003einstance to create a command to run unittests in our application.\u003c/p\u003e\n\u003cp\u003e\u003cem\u003emanage.py\u003c/em\u003e\u003c/p\u003e\n\u003cdiv class=\"codehilite\"\u003e\n\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e\u003ccode\u003e\u003cspan class=\"c1\"\u003e# ...\u003c/span\u003e\n\u003cspan class=\"n\"\u003emanager\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eadd_command\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'server'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"n\"\u003eServer\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"nd\"\u003e@manager.command\u003c/span\u003e\n\u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nf\"\u003etest\u003c/span\u003e\u003cspan class=\"p\"\u003e():\u003c/span\u003e\n    \u003cspan class=\"sd\"\u003e\"\"\"Run the unit tests.\"\"\"\u003c/span\u003e\n    \u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"nn\"\u003eunittest\u003c/span\u003e\n    \u003cspan class=\"n\"\u003etests\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eunittest\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eTestLoader\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ediscover\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'tests'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eunittest\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eTextTestRunner\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003everbosity\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003erun\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003etests\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"vm\"\u003e__name__\u003c/span\u003e \u003cspan class=\"o\"\u003e==\u003c/span\u003e \u003cspan class=\"s1\"\u003e'__main__'\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n    \u003cspan class=\"n\"\u003emanager\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003erun\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003cp\u003eWe use the\u003cspan\u003e\u0026nbsp;\u003c/span\u003e\u003ccode\u003e@manager.command\u003c/code\u003e\u003cspan\u003e\u0026nbsp;\u003c/span\u003edecorator to create a new command.We create the test function that loads all the test files and runs them all\u003c/p\u003e\n\u003cdiv class=\"codehilite\"\u003e\n\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e\u003ccode\u003epython3.6 manager.py \u003cspan class=\"nb\"\u003etest\u003c/span\u003e\ntest_instance \u003cspan class=\"o\"\u003e(\u003c/span\u003etest_movie.MovieTest\u003cspan class=\"o\"\u003e)\u003c/span\u003e ... ok\ntest_check_instance_variables \u003cspan class=\"o\"\u003e(\u003c/span\u003etest_review.TestReview\u003cspan class=\"o\"\u003e)\u003c/span\u003e ... ok\ntest_get_review_by_id \u003cspan class=\"o\"\u003e(\u003c/span\u003etest_review.TestReview\u003cspan class=\"o\"\u003e)\u003c/span\u003e ... ok\ntest_instance \u003cspan class=\"o\"\u003e(\u003c/span\u003etest_review.TestReview\u003cspan class=\"o\"\u003e)\u003c/span\u003e ... ok\ntest_save_review \u003cspan class=\"o\"\u003e(\u003c/span\u003etest_review.TestReview\u003cspan class=\"o\"\u003e)\u003c/span\u003e ... ok\n\n----------------------------------------------------------------------\nRan \u003cspan class=\"m\"\u003e5\u003c/span\u003e tests in \u003cspan class=\"m\"\u003e0\u003c/span\u003e.002s\n\nOK\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003cp\u003eWe can now run unittests using the\u003cspan\u003e\u0026nbsp;\u003c/span\u003e\u003ccode\u003epython3.6 manager.py test\u003c/code\u003e\u003cspan\u003e\u0026nbsp;\u003c/span\u003ecommand from the terminal.\u003c/p\u003e"},"WIKI_PAGE_REVISION":"1","WIKI_PAGE_SHOW_PATH":"/courses/448/pages/thursday-application-structures","WIKI_PAGE_EDIT_PATH":"/courses/448/pages/thursday-application-structures/edit","WIKI_PAGE_HISTORY_PATH":"/courses/448/pages/thursday-application-structures/revisions","COURSE_ID":"448","MODULES_PATH":"/courses/448/modules","wiki_page_menu_tools":[],"wiki_index_menu_tools":[],"DISPLAY_SHOW_ALL_LINK":false,"CAN_SET_TODO_DATE":false,"badge_counts":{"submissions":0},"notices":[],"active_context_tab":"pages"};
    BRANDABLE_CSS_HANDLEBARS_INDEX = [["new_styles_normal_contrast","new_styles_high_contrast","responsive_layout_normal_contrast","responsive_layout_high_contrast","new_styles_normal_contrast_rtl","new_styles_high_contrast_rtl","responsive_layout_normal_contrast_rtl","responsive_layout_high_contrast_rtl"],{"10":["5bbee90ed9",0,0,0,"f8054b5691",4,4,4],"15":["fc26aa5fd4",0,0,0,"f904416063",4,4,4],"19":["df5777ed9c"],"61":["c34731ada0","f405852bb2",0,1,"a4eda69452","3fd9943b9a",4,5],"64":["6d90a3d213",0,0,0,"cace9d4281",4,4,4],"67":["8b57f54e71",0,0,0,"43833dde85",4,4,4],"71":["dca6322676","3128a2cc3b",0,1,"1b8a1b5af4","851e44943d",4,5],"06":["4526e0502d",0,0,0,"4ca4dedba8",4,4,4],"f0":["7c947dce20",0,0,0,0,0,0,0],"c8":["ce38e5e01d","b9068fb85c",0,1,"abe25b43ac","891d385c6e",4,5],"1e":["a4ce6b99b5","39d2986ce0","93968ae330","541e45feba","e12dd92511","ba63dd3b58","8594db4d82","e291bb53e9"],"b3":["8ebc71ebc3","cf8efa05c8",0,1,"4efdc93a21","fd6d3a9780",4,5],"4f":["0a2c3dcf2f",0,0,0,"79668e6396",4,4,4],"0c":["c26e82abac",0,0,0,"b71e9cbd6d",4,4,4],"da":["b218c8c3f2","edbd1b5e83",0,1,"312312508c","dfb2d13098",4,5],"1d":["a3bfcb7961",0,0,0,"90682b3bbe",4,4,4],"08":["64bff5a97d"],"e2":["11429f119a"],"9f":["35936a18c3",0,0,0,0,0,0,0],"2b":["87b3ec4aa1",0,0,0,"39522697fb",4,4,4],"2c":["6d919206cd",0,0,0,0,0,0,0],"c2":["6f2721ae01"],"9c":["ecafc938e4",0,0,0,"59e7c22304",4,4,4],"6f":["363cd4d36b",0,0,0,0,0,0,0],"c5":["ebf0e1382f","7f587d9a8a",0,1,"afbdabf23d","0d398196a8",4,5],"f2":["51574f9b13"]}]
;
  </script>

  <link rel="preload" href="./fl27_files/variables-8391c84da435c9cfceea2b2b3317ff66.js" as="script" type="text/javascript"><link rel="preload" href="./fl27_files/Nairobi-ab431c0929.js" as="script" type="text/javascript"><link rel="preload" href="./fl27_files/Nairobi-ab431c0929.js" as="script" type="text/javascript"><link rel="preload" href="./fl27_files/en_GB-31745e04c9.js" as="script" type="text/javascript"><link rel="preload" href="./fl27_files/en-gb-c-c7b9246cab.js" as="script" type="text/javascript"><link rel="preload" href="./fl27_files/main-e-deba862062.js" as="script" type="text/javascript"><script>
//<![CDATA[

      ;["https://du11hjcvx0uqb.cloudfront.net/br/dist/brandable_css/b5f0573040e8649cf4cc5fc40f5957de/variables-8391c84da435c9cfceea2b2b3317ff66.js", "https://du11hjcvx0uqb.cloudfront.net/br/dist/timezone/Africa/Nairobi-ab431c0929.js", "https://du11hjcvx0uqb.cloudfront.net/br/dist/timezone/Africa/Nairobi-ab431c0929.js", "https://du11hjcvx0uqb.cloudfront.net/br/dist/timezone/en_GB-31745e04c9.js", "https://du11hjcvx0uqb.cloudfront.net/br/dist/webpack-production/moment/locale/en-gb-c-c7b9246cab.js", "https://du11hjcvx0uqb.cloudfront.net/br/dist/webpack-production/main-e-deba862062.js"].forEach(function(src) {
        var s = document.createElement('script')
        s.src = src
        s.async = false
        document.head.appendChild(s)
      });
//]]>
</script><script src="./fl27_files/variables-8391c84da435c9cfceea2b2b3317ff66.js"></script><script src="./fl27_files/Nairobi-ab431c0929.js"></script><script src="./fl27_files/Nairobi-ab431c0929.js"></script><script src="./fl27_files/en_GB-31745e04c9.js"></script><script src="./fl27_files/en-gb-c-c7b9246cab.js"></script><script src="./fl27_files/main-e-deba862062.js"></script><link rel="preload" href="./fl27_files/0-c-d122efd52f.js" as="script" type="text/javascript"><link rel="preload" href="./fl27_files/1-c-3b35301a94.js" as="script" type="text/javascript"><link rel="preload" href="./fl27_files/2-c-d3eede0f8d.js" as="script" type="text/javascript"><link rel="preload" href="./fl27_files/3-c-5d745b6aaa.js" as="script" type="text/javascript"><link rel="preload" href="./fl27_files/4-c-e30a14ede8.js" as="script" type="text/javascript"><link rel="preload" href="./fl27_files/5-c-6aa506df4f.js" as="script" type="text/javascript"><link rel="preload" href="./fl27_files/6-c-1e1359c836.js" as="script" type="text/javascript"><link rel="preload" href="./fl27_files/7-c-50566439b2.js" as="script" type="text/javascript"><link rel="preload" href="./fl27_files/8-c-1de49f5daa.js" as="script" type="text/javascript"><link rel="preload" href="./fl27_files/12-c-8e44d6013e.js" as="script" type="text/javascript"><link rel="preload" href="./fl27_files/18-c-5802a4b12c.js" as="script" type="text/javascript"><link rel="preload" href="./fl27_files/17-c-f853e81c20.js" as="script" type="text/javascript"><link rel="preload" href="./fl27_files/22-c-90d46f84ca.js" as="script" type="text/javascript"><link rel="preload" href="./fl27_files/27-c-77a1bbb478.js" as="script" type="text/javascript"><link rel="preload" href="./fl27_files/30-c-957da7f976.js" as="script" type="text/javascript"><link rel="preload" href="./fl27_files/32-c-5a482fa1e6.js" as="script" type="text/javascript"><link rel="preload" href="./fl27_files/33-c-9f2b8d1bac.js" as="script" type="text/javascript"><link rel="preload" href="./fl27_files/39-c-15d2cdb6af.js" as="script" type="text/javascript"><link rel="preload" href="./fl27_files/37-c-547e6ea99d.js" as="script" type="text/javascript"><link rel="preload" href="./fl27_files/41-c-da10155ccb.js" as="script" type="text/javascript"><link rel="preload" href="./fl27_files/46-c-4c0eb2055d.js" as="script" type="text/javascript"><link rel="preload" href="./fl27_files/45-c-8759630105.js" as="script" type="text/javascript"><link rel="preload" href="./fl27_files/49-c-616658cd53.js" as="script" type="text/javascript"><link rel="preload" href="./fl27_files/47-c-d27f10a861.js" as="script" type="text/javascript"><link rel="preload" href="./fl27_files/59-c-dc01c5c5b9.js" as="script" type="text/javascript"><link rel="preload" href="./fl27_files/62-c-2b5ffe60c5.js" as="script" type="text/javascript"><link rel="preload" href="./fl27_files/65-c-3a03d69e15.js" as="script" type="text/javascript"><link rel="preload" href="./fl27_files/80-c-491d727af3.js" as="script" type="text/javascript"><link rel="preload" href="./fl27_files/84-c-c73777ec6f.js" as="script" type="text/javascript"><link rel="preload" href="./fl27_files/wiki_page_show-c-9b3ab880e6.js" as="script" type="text/javascript"><script>
//<![CDATA[
(window.bundles || (window.bundles = [])).push('wiki_page_show');
(window.bundles || (window.bundles = [])).push('navigation_header');
//]]>
</script>
  <title>Thursday: Application Structures: SD Core 45 Flask Remote</title>
  
  <script>
    window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
    ga('create', "UA-9138420-1", 'auto');
      ga('set', 'userId', "88df3d2745977bba7b8386c486ec8657");
    ga('set', 'dimension1', "100");
    ga('set', 'dimension2', "00");
    ga('set', 'dimension3', "0");
    ga('set', 'dimension4', "Higher Ed");
    ga('send', 'pageview');
    (window.requestIdleCallback || window.setTimeout)(function(){
      var s=document.createElement('script'), m=document.getElementsByTagName('script')[0]
      s.async=1; s.src='https://www.google-analytics.com/analytics.js'
      m.parentNode.insertBefore(s,m)
    });
  </script>



<style type="text/css"></style><script charset="utf-8" src="./fl27_files/0-c-d122efd52f.js"></script><script charset="utf-8" src="./fl27_files/1-c-3b35301a94.js"></script><script charset="utf-8" src="./fl27_files/2-c-d3eede0f8d.js"></script><script charset="utf-8" src="./fl27_files/3-c-5d745b6aaa.js"></script><script charset="utf-8" src="./fl27_files/4-c-e30a14ede8.js"></script><script charset="utf-8" src="./fl27_files/5-c-6aa506df4f.js"></script><script charset="utf-8" src="./fl27_files/6-c-1e1359c836.js"></script><script charset="utf-8" src="./fl27_files/7-c-50566439b2.js"></script><script charset="utf-8" src="./fl27_files/8-c-1de49f5daa.js"></script><script charset="utf-8" src="./fl27_files/12-c-8e44d6013e.js"></script><script charset="utf-8" src="./fl27_files/18-c-5802a4b12c.js"></script><script charset="utf-8" src="./fl27_files/17-c-f853e81c20.js"></script><script charset="utf-8" src="./fl27_files/22-c-90d46f84ca.js"></script><script charset="utf-8" src="./fl27_files/27-c-77a1bbb478.js"></script><script charset="utf-8" src="./fl27_files/30-c-957da7f976.js"></script><script charset="utf-8" src="./fl27_files/32-c-5a482fa1e6.js"></script><script charset="utf-8" src="./fl27_files/33-c-9f2b8d1bac.js"></script><script charset="utf-8" src="./fl27_files/39-c-15d2cdb6af.js"></script><script charset="utf-8" src="./fl27_files/37-c-547e6ea99d.js"></script><script charset="utf-8" src="./fl27_files/41-c-da10155ccb.js"></script><script charset="utf-8" src="./fl27_files/46-c-4c0eb2055d.js"></script><script charset="utf-8" src="./fl27_files/45-c-8759630105.js"></script><script charset="utf-8" src="./fl27_files/49-c-616658cd53.js"></script><script charset="utf-8" src="./fl27_files/47-c-d27f10a861.js"></script><script charset="utf-8" src="./fl27_files/59-c-dc01c5c5b9.js"></script><script charset="utf-8" src="./fl27_files/62-c-2b5ffe60c5.js"></script><script charset="utf-8" src="./fl27_files/65-c-3a03d69e15.js"></script><script charset="utf-8" src="./fl27_files/80-c-491d727af3.js"></script><script charset="utf-8" src="./fl27_files/84-c-c73777ec6f.js"></script><script charset="utf-8" src="./fl27_files/wiki_page_show-c-9b3ab880e6.js"></script><script charset="utf-8" src="./fl27_files/4107-c-fc094bc328.js"></script><script charset="utf-8" src="./fl27_files/4040-c-abbc9a7bf2.js"></script><script charset="utf-8" src="./fl27_files/inst_fs_service_worker-c-45cd13f265.js"></script><script src="./fl27_files/sth.js"></script><style type="text/css" data-glamor=""></style><script charset="utf-8" src="./fl27_files/14-c-89932b56a2.js"></script><script charset="utf-8" src="./fl27_files/21-c-8ca8ad475e.js"></script><script charset="utf-8" src="./fl27_files/23-c-a26d41249b.js"></script><script charset="utf-8" src="./fl27_files/25-c-6c69c308fe.js"></script><script charset="utf-8" src="./fl27_files/31-c-f9e5792f22.js"></script><script charset="utf-8" src="./fl27_files/44-c-84e08ce0fa.js"></script><script charset="utf-8" src="./fl27_files/77-c-cabae41b59.js"></script><script charset="utf-8" src="./fl27_files/103-c-a3471c16cf.js"></script><script charset="utf-8" src="./fl27_files/3619-c-240c9c039d.js"></script><script charset="utf-8" src="./fl27_files/4106-c-508ab6be12.js"></script><style type="text/css">.mejs-offscreen{clip:rect(1px 1px 1px 1px);clip:rect(1px,1px,1px,1px);clip-path:polygon(0px 0,0 0,0 0,0 0);position:absolute!important;height:1px;width:1px;overflow:hidden}.mejs-container{position:relative;background:#000;font-family:Helvetica,Arial,serif;text-align:left;vertical-align:top;text-indent:0}.mejs-fill-container,.mejs-fill-container .mejs-container{width:100%;height:100%}.mejs-fill-container{overflow:hidden}.mejs-container:focus{outline:0}.me-plugin{position:absolute}.mejs-embed,.mejs-embed body{width:100%;height:100%;margin:0;padding:0;background:#000;overflow:hidden}.mejs-fullscreen{overflow:hidden!important}.mejs-container-fullscreen{position:fixed;left:0;top:0;right:0;bottom:0;overflow:hidden;z-index:1000}.mejs-container-fullscreen .mejs-mediaelement,.mejs-container-fullscreen video{width:100%;height:100%}.mejs-clear{clear:both}.mejs-background{position:absolute;top:0;left:0}.mejs-mediaelement{position:absolute;top:0;left:0;width:100%;height:100%}.mejs-poster{position:absolute;top:0;left:0;background-size:contain;background-position:50% 50%;background-repeat:no-repeat}:root .mejs-poster img{display:none}.mejs-poster img{border:0;padding:0}.mejs-overlay{position:absolute;top:0;left:0}.mejs-overlay-play{cursor:pointer}.mejs-overlay-button{position:absolute;top:50%;left:50%;width:100px;height:100px;margin:-50px 0 0 -50px;background:url(https://du11hjcvx0uqb.cloudfront.net/br/dist/webpack-production/746c3af7a145a09239a36e5ef61cfea0.svg) no-repeat}.no-svg .mejs-overlay-button{background-image:url(https://du11hjcvx0uqb.cloudfront.net/br/dist/webpack-production/716436fb3df0d29e6b37dd62d952676a.png)}.mejs-overlay:hover .mejs-overlay-button{background-position:0 -100px}.mejs-overlay-loading{position:absolute;top:50%;left:50%;width:80px;height:80px;margin:-40px 0 0 -40px;background:#333;background:url(https://du11hjcvx0uqb.cloudfront.net/br/dist/webpack-production/703c659e4bf563a05c6338a1727e006c.png);background:rgba(0,0,0,.9);background:-webkit-gradient(linear,0 0,0 100%,from(rgba(50,50,50,.9)),to(rgba(0,0,0,.9)));background:-webkit-linear-gradient(top,rgba(50,50,50,.9),rgba(0,0,0,.9));background:-moz-linear-gradient(top,rgba(50,50,50,.9),rgba(0,0,0,.9));background:-o-linear-gradient(top,rgba(50,50,50,.9),rgba(0,0,0,.9));background:-ms-linear-gradient(top,rgba(50,50,50,.9),rgba(0,0,0,.9));background:linear-gradient(rgba(50,50,50,.9),rgba(0,0,0,.9))}.mejs-overlay-loading span{display:block;width:80px;height:80px;background:transparent url(https://du11hjcvx0uqb.cloudfront.net/br/dist/webpack-production/76b326f4d44222126fee21076595bef5.gif) 50% 50% no-repeat}.mejs-container .mejs-controls{position:absolute;list-style-type:none;margin:0;padding:0;bottom:0;left:0;background:url(https://du11hjcvx0uqb.cloudfront.net/br/dist/webpack-production/703c659e4bf563a05c6338a1727e006c.png);background:rgba(0,0,0,.7);background:-webkit-gradient(linear,0 0,0 100%,from(rgba(50,50,50,.7)),to(rgba(0,0,0,.7)));background:-webkit-linear-gradient(top,rgba(50,50,50,.7),rgba(0,0,0,.7));background:-moz-linear-gradient(top,rgba(50,50,50,.7),rgba(0,0,0,.7));background:-o-linear-gradient(top,rgba(50,50,50,.7),rgba(0,0,0,.7));background:-ms-linear-gradient(top,rgba(50,50,50,.7),rgba(0,0,0,.7));background:linear-gradient(rgba(50,50,50,.7),rgba(0,0,0,.7));height:30px;width:100%}.mejs-container .mejs-controls div{list-style-type:none;background-image:none;display:block;float:left;margin:0;padding:0;width:26px;height:26px;font-size:11px;line-height:11px;font-family:Helvetica,Arial,serif;border:0}.mejs-controls .mejs-button button{cursor:pointer;display:block;font-size:0;line-height:0;text-decoration:none;margin:7px 5px;padding:0;position:absolute;height:16px;width:16px;border:0;background:transparent url(https://du11hjcvx0uqb.cloudfront.net/br/dist/webpack-production/40f56f5a736da4effeb790cedb8a52f0.svg) no-repeat}.no-svg .mejs-controls .mejs-button button{background-image:url(https://du11hjcvx0uqb.cloudfront.net/br/dist/webpack-production/24a0227fbdd3acfd86ff03fc3fc6c8a4.png)}.mejs-controls .mejs-button button:focus{outline:dotted 1px #999}.mejs-container .mejs-controls .mejs-time{color:#fff;display:block;height:17px;width:auto;padding:10px 3px 0;overflow:hidden;text-align:center;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}.mejs-container .mejs-controls .mejs-time a{color:#fff;font-size:11px;line-height:12px;display:block;float:left;margin:1px 2px 0 0;width:auto}.mejs-controls .mejs-play button{background-position:0 0}.mejs-controls .mejs-pause button{background-position:0 -16px}.mejs-controls .mejs-stop button{background-position:-112px 0}.mejs-controls div.mejs-time-rail{direction:ltr;width:200px;padding-top:5px}.mejs-controls .mejs-time-rail span,.mejs-controls .mejs-time-rail a{display:block;position:absolute;width:180px;height:10px;-webkit-border-radius:2px;-moz-border-radius:2px;border-radius:2px;cursor:pointer}.mejs-controls .mejs-time-rail .mejs-time-total{margin:5px;background:#333;background:rgba(50,50,50,.8);background:-webkit-gradient(linear,0 0,0 100%,from(rgba(30,30,30,.8)),to(rgba(60,60,60,.8)));background:-webkit-linear-gradient(top,rgba(30,30,30,.8),rgba(60,60,60,.8));background:-moz-linear-gradient(top,rgba(30,30,30,.8),rgba(60,60,60,.8));background:-o-linear-gradient(top,rgba(30,30,30,.8),rgba(60,60,60,.8));background:-ms-linear-gradient(top,rgba(30,30,30,.8),rgba(60,60,60,.8));background:linear-gradient(rgba(30,30,30,.8),rgba(60,60,60,.8))}.mejs-controls .mejs-time-rail .mejs-time-buffering{width:100%;background-image:-o-linear-gradient(-45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);background-image:-webkit-gradient(linear,0 100%,100% 0,color-stop(0.25,rgba(255,255,255,.15)),color-stop(0.25,transparent),color-stop(0.5,transparent),color-stop(0.5,rgba(255,255,255,.15)),color-stop(0.75,rgba(255,255,255,.15)),color-stop(0.75,transparent),to(transparent));background-image:-webkit-linear-gradient(-45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);background-image:-moz-linear-gradient(-45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);background-image:-ms-linear-gradient(-45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);background-image:linear-gradient(-45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);-webkit-background-size:15px 15px;-moz-background-size:15px 15px;-o-background-size:15px 15px;background-size:15px 15px;-webkit-animation:buffering-stripes 2s linear infinite;-moz-animation:buffering-stripes 2s linear infinite;-ms-animation:buffering-stripes 2s linear infinite;-o-animation:buffering-stripes 2s linear infinite;animation:buffering-stripes 2s linear infinite}@-webkit-keyframes buffering-stripes{from{background-position:0 0}to{background-position:30px 0}}@-moz-keyframes buffering-stripes{from{background-position:0 0}to{background-position:30px 0}}@-ms-keyframes buffering-stripes{from{background-position:0 0}to{background-position:30px 0}}@-o-keyframes buffering-stripes{from{background-position:0 0}to{background-position:30px 0}}@keyframes buffering-stripes{from{background-position:0 0}to{background-position:30px 0}}.mejs-controls .mejs-time-rail .mejs-time-loaded{background:#3caac8;background:rgba(60,170,200,.8);background:-webkit-gradient(linear,0 0,0 100%,from(rgba(44,124,145,.8)),to(rgba(78,183,212,.8)));background:-webkit-linear-gradient(top,rgba(44,124,145,.8),rgba(78,183,212,.8));background:-moz-linear-gradient(top,rgba(44,124,145,.8),rgba(78,183,212,.8));background:-o-linear-gradient(top,rgba(44,124,145,.8),rgba(78,183,212,.8));background:-ms-linear-gradient(top,rgba(44,124,145,.8),rgba(78,183,212,.8));background:linear-gradient(rgba(44,124,145,.8),rgba(78,183,212,.8));width:0}.mejs-controls .mejs-time-rail .mejs-time-current{background:#fff;background:rgba(255,255,255,.8);background:-webkit-gradient(linear,0 0,0 100%,from(rgba(255,255,255,.9)),to(rgba(200,200,200,.8)));background:-webkit-linear-gradient(top,rgba(255,255,255,.9),rgba(200,200,200,.8));background:-moz-linear-gradient(top,rgba(255,255,255,.9),rgba(200,200,200,.8));background:-o-linear-gradient(top,rgba(255,255,255,.9),rgba(200,200,200,.8));background:-ms-linear-gradient(top,rgba(255,255,255,.9),rgba(200,200,200,.8));background:linear-gradient(rgba(255,255,255,.9),rgba(200,200,200,.8));width:0}.mejs-controls .mejs-time-rail .mejs-time-handle{display:none;position:absolute;margin:0;width:10px;background:#fff;-webkit-border-radius:5px;-moz-border-radius:5px;border-radius:5px;cursor:pointer;border:solid 2px #333;top:-2px;text-align:center}.mejs-controls .mejs-time-rail .mejs-time-float{position:absolute;display:none;background:#eee;width:36px;height:17px;border:solid 1px #333;top:-26px;margin-left:-18px;text-align:center;color:#111}.mejs-controls .mejs-time-rail .mejs-time-float-current{margin:2px;width:30px;display:block;text-align:center;left:0}.mejs-controls .mejs-time-rail .mejs-time-float-corner{position:absolute;display:block;width:0;height:0;line-height:0;border:solid 5px #eee;border-color:#eee transparent transparent;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0;top:15px;left:13px}.mejs-long-video .mejs-controls .mejs-time-rail .mejs-time-float{width:48px}.mejs-long-video .mejs-controls .mejs-time-rail .mejs-time-float-current{width:44px}.mejs-long-video .mejs-controls .mejs-time-rail .mejs-time-float-corner{left:18px}.mejs-controls .mejs-fullscreen-button button{background-position:-32px 0}.mejs-controls .mejs-unfullscreen button{background-position:-32px -16px}.mejs-controls .mejs-volume-button{}.mejs-controls .mejs-mute button{background-position:-16px -16px}.mejs-controls .mejs-unmute button{background-position:-16px 0}.mejs-controls .mejs-volume-button{position:relative}.mejs-controls .mejs-volume-button .mejs-volume-slider{height:115px;width:25px;background:url(https://du11hjcvx0uqb.cloudfront.net/br/dist/webpack-production/703c659e4bf563a05c6338a1727e006c.png);background:rgba(50,50,50,.7);-webkit-border-radius:0;-moz-border-radius:0;border-radius:0;top:-115px;left:0;z-index:1;position:absolute;margin:0}.mejs-controls .mejs-volume-button:hover{-webkit-border-radius:0 0 4px 4px;-moz-border-radius:0 0 4px 4px;border-radius:0 0 4px 4px}.mejs-controls .mejs-volume-button .mejs-volume-slider .mejs-volume-total{position:absolute;left:11px;top:8px;width:2px;height:100px;background:#ddd;background:rgba(255,255,255,.5);margin:0}.mejs-controls .mejs-volume-button .mejs-volume-slider .mejs-volume-current{position:absolute;left:11px;top:8px;width:2px;height:100px;background:#ddd;background:rgba(255,255,255,.9);margin:0}.mejs-controls .mejs-volume-button .mejs-volume-slider .mejs-volume-handle{position:absolute;left:4px;top:-3px;width:16px;height:6px;background:#ddd;background:rgba(255,255,255,.9);cursor:N-resize;-webkit-border-radius:1px;-moz-border-radius:1px;border-radius:1px;margin:0}.mejs-controls a.mejs-horizontal-volume-slider{height:26px;width:56px;position:relative;display:block;float:left;vertical-align:middle}.mejs-controls .mejs-horizontal-volume-slider .mejs-horizontal-volume-total{position:absolute;left:0;top:11px;width:50px;height:8px;margin:0;padding:0;font-size:1px;-webkit-border-radius:2px;-moz-border-radius:2px;border-radius:2px;background:#333;background:rgba(50,50,50,.8);background:-webkit-gradient(linear,0 0,0 100%,from(rgba(30,30,30,.8)),to(rgba(60,60,60,.8)));background:-webkit-linear-gradient(top,rgba(30,30,30,.8),rgba(60,60,60,.8));background:-moz-linear-gradient(top,rgba(30,30,30,.8),rgba(60,60,60,.8));background:-o-linear-gradient(top,rgba(30,30,30,.8),rgba(60,60,60,.8));background:-ms-linear-gradient(top,rgba(30,30,30,.8),rgba(60,60,60,.8));background:linear-gradient(rgba(30,30,30,.8),rgba(60,60,60,.8))}.mejs-controls .mejs-horizontal-volume-slider .mejs-horizontal-volume-current{position:absolute;left:0;top:11px;width:50px;height:8px;margin:0;padding:0;font-size:1px;-webkit-border-radius:2px;-moz-border-radius:2px;border-radius:2px;background:#fff;background:rgba(255,255,255,.8);background:-webkit-gradient(linear,0 0,0 100%,from(rgba(255,255,255,.9)),to(rgba(200,200,200,.8)));background:-webkit-linear-gradient(top,rgba(255,255,255,.9),rgba(200,200,200,.8));background:-moz-linear-gradient(top,rgba(255,255,255,.9),rgba(200,200,200,.8));background:-o-linear-gradient(top,rgba(255,255,255,.9),rgba(200,200,200,.8));background:-ms-linear-gradient(top,rgba(255,255,255,.9),rgba(200,200,200,.8));background:linear-gradient(rgba(255,255,255,.9),rgba(200,200,200,.8))}.mejs-controls .mejs-horizontal-volume-slider .mejs-horizontal-volume-handle{display:none}.mejs-controls .mejs-captions-button{position:relative}.mejs-controls .mejs-captions-button button{background-position:-48px 0}.mejs-controls .mejs-captions-button .mejs-captions-selector{position:absolute;bottom:26px;right:-51px;width:85px;height:100px;background:url(https://du11hjcvx0uqb.cloudfront.net/br/dist/webpack-production/703c659e4bf563a05c6338a1727e006c.png);background:rgba(50,50,50,.7);border:solid 1px transparent;padding:10px 10px 0;overflow:hidden;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0}.mejs-controls .mejs-captions-button .mejs-captions-selector ul{margin:0;padding:0;display:block;list-style-type:none!important;overflow:hidden}.mejs-controls .mejs-captions-button .mejs-captions-selector ul li{margin:0 0 6px;padding:0;list-style-type:none!important;display:block;color:#fff;overflow:hidden}.mejs-controls .mejs-captions-button .mejs-captions-selector ul li input{clear:both;float:left;margin:3px 3px 0 5px}.mejs-controls .mejs-captions-button .mejs-captions-selector ul li label{width:55px;float:left;padding:4px 0 0;line-height:15px;font-family:Helvetica,Arial,serif;font-size:10px}.mejs-controls .mejs-captions-button .mejs-captions-translations{font-size:10px;margin:0 0 5px}.mejs-chapters{position:absolute;top:0;left:0;border-right:solid 1px #fff;width:10000px;z-index:1}.mejs-chapters .mejs-chapter{position:absolute;float:left;background:#222;background:rgba(0,0,0,.7);background:-webkit-gradient(linear,0 0,0 100%,from(rgba(50,50,50,.7)),to(rgba(0,0,0,.7)));background:-webkit-linear-gradient(top,rgba(50,50,50,.7),rgba(0,0,0,.7));background:-moz-linear-gradient(top,rgba(50,50,50,.7),rgba(0,0,0,.7));background:-o-linear-gradient(top,rgba(50,50,50,.7),rgba(0,0,0,.7));background:-ms-linear-gradient(top,rgba(50,50,50,.7),rgba(0,0,0,.7));background:linear-gradient(rgba(50,50,50,.7),rgba(0,0,0,.7));filter:progid:DXImageTransform.Microsoft.Gradient(GradientType=0, startColorstr=#323232, endColorstr=#000000);overflow:hidden;border:0}.mejs-chapters .mejs-chapter .mejs-chapter-block{font-size:11px;color:#fff;padding:5px;display:block;border-right:solid 1px #333;border-bottom:solid 1px #333;cursor:pointer}.mejs-chapters .mejs-chapter .mejs-chapter-block-last{border-right:0}.mejs-chapters .mejs-chapter .mejs-chapter-block:hover{background:#666;background:rgba(102,102,102,.7);background:-webkit-gradient(linear,0 0,0 100%,from(rgba(102,102,102,.7)),to(rgba(50,50,50,.6)));background:-webkit-linear-gradient(top,rgba(102,102,102,.7),rgba(50,50,50,.6));background:-moz-linear-gradient(top,rgba(102,102,102,.7),rgba(50,50,50,.6));background:-o-linear-gradient(top,rgba(102,102,102,.7),rgba(50,50,50,.6));background:-ms-linear-gradient(top,rgba(102,102,102,.7),rgba(50,50,50,.6));background:linear-gradient(rgba(102,102,102,.7),rgba(50,50,50,.6));filter:progid:DXImageTransform.Microsoft.Gradient(GradientType=0, startColorstr=#666666, endColorstr=#323232)}.mejs-chapters .mejs-chapter .mejs-chapter-block .ch-title{font-size:12px;font-weight:700;display:block;white-space:nowrap;text-overflow:ellipsis;margin:0 0 3px;line-height:12px}.mejs-chapters .mejs-chapter .mejs-chapter-block .ch-timespan{font-size:12px;line-height:12px;margin:3px 0 4px;display:block;white-space:nowrap;text-overflow:ellipsis}.mejs-captions-layer{position:absolute;bottom:0;left:0;text-align:center;line-height:20px;font-size:16px;color:#fff}.mejs-captions-layer a{color:#fff;text-decoration:underline}.mejs-captions-layer[lang=ar]{font-size:20px;font-weight:400}.mejs-captions-position{position:absolute;width:100%;bottom:15px;left:0}.mejs-captions-position-hover{bottom:35px}.mejs-captions-text,.mejs__captions-text *{padding:0;background:url(https://du11hjcvx0uqb.cloudfront.net/br/dist/webpack-production/703c659e4bf563a05c6338a1727e006c.png);background:rgba(20,20,20,.5);white-space:pre-wrap;-webkit-box-shadow:5px 0 0 rgba(20,20,20,.5),-5px 0 0 rgba(20,20,20,.5);box-shadow:5px 0 0 rgba(20,20,20,.5),-5px 0 0 rgba(20,20,20,.5)}.me-cannotplay{}.me-cannotplay a{color:#fff;font-weight:700}.me-cannotplay span{padding:15px;display:block}.mejs-controls .mejs-loop-off button{background-position:-64px -16px}.mejs-controls .mejs-loop-on button{background-position:-64px 0}.mejs-controls .mejs-backlight-off button{background-position:-80px -16px}.mejs-controls .mejs-backlight-on button{background-position:-80px 0}.mejs-controls .mejs-picturecontrols-button{background-position:-96px 0}.mejs-contextmenu{position:absolute;width:150px;padding:10px;border-radius:4px;top:0;left:0;background:#fff;border:solid 1px #999;z-index:1001}.mejs-contextmenu .mejs-contextmenu-separator{height:1px;font-size:0;margin:5px 6px;background:#333}.mejs-contextmenu .mejs-contextmenu-item{font-family:Helvetica,Arial,serif;font-size:12px;padding:4px 6px;cursor:pointer;color:#333}.mejs-contextmenu .mejs-contextmenu-item:hover{background:#2C7C91;color:#fff}.mejs-controls .mejs-sourcechooser-button{position:relative}.mejs-controls .mejs-sourcechooser-button button{background-position:-128px 0}.mejs-controls .mejs-sourcechooser-button .mejs-sourcechooser-selector{position:absolute;bottom:26px;right:-10px;width:130px;height:100px;background:url(https://du11hjcvx0uqb.cloudfront.net/br/dist/webpack-production/703c659e4bf563a05c6338a1727e006c.png);background:rgba(50,50,50,.7);border:solid 1px transparent;padding:10px;overflow:hidden;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0}.mejs-controls .mejs-sourcechooser-button .mejs-sourcechooser-selector ul{margin:0;padding:0;display:block;list-style-type:none!important;overflow:hidden}.mejs-controls .mejs-sourcechooser-button .mejs-sourcechooser-selector ul li{margin:0 0 6px;padding:0;list-style-type:none!important;display:block;color:#fff;overflow:hidden}.mejs-controls .mejs-sourcechooser-button .mejs-sourcechooser-selector ul li input{clear:both;float:left;margin:3px 3px 0 5px}.mejs-controls .mejs-sourcechooser-button .mejs-sourcechooser-selector ul li label{width:100px;float:left;padding:4px 0 0;line-height:15px;font-family:Helvetica,Arial,serif;font-size:10px}.mejs-postroll-layer{position:absolute;bottom:0;left:0;width:100%;height:100%;background:url(https://du11hjcvx0uqb.cloudfront.net/br/dist/webpack-production/703c659e4bf563a05c6338a1727e006c.png);background:rgba(50,50,50,.7);z-index:1000;overflow:hidden}.mejs-postroll-layer-content{width:100%;height:100%}.mejs-postroll-close{position:absolute;right:0;top:0;background:url(https://du11hjcvx0uqb.cloudfront.net/br/dist/webpack-production/703c659e4bf563a05c6338a1727e006c.png);background:rgba(50,50,50,.7);color:#fff;padding:4px;z-index:100;cursor:pointer}div.mejs-speed-button{width:46px!important;position:relative}.mejs-controls .mejs-button.mejs-speed-button button{background:transparent;width:36px;font-size:11px;line-height:normal;color:#fff}.mejs-controls .mejs-speed-button .mejs-speed-selector{position:absolute;top:-100px;left:-10px;width:60px;height:100px;background:url(https://du11hjcvx0uqb.cloudfront.net/br/dist/webpack-production/703c659e4bf563a05c6338a1727e006c.png);background:rgba(50,50,50,.7);border:solid 1px transparent;padding:0;overflow:hidden;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0}.mejs-controls .mejs-speed-button .mejs-speed-selector ul li label.mejs-speed-selected{color:rgba(33,248,248,1)}.mejs-controls .mejs-speed-button .mejs-speed-selector ul{margin:0;padding:0;display:block;list-style-type:none!important;overflow:hidden}.mejs-controls .mejs-speed-button .mejs-speed-selector ul li{margin:0 0 6px;padding:0 10px;list-style-type:none!important;display:block;color:#fff;overflow:hidden}.mejs-controls .mejs-speed-button .mejs-speed-selector ul li input{clear:both;float:left;margin:3px 3px 0 5px}.mejs-controls .mejs-speed-button .mejs-speed-selector ul li label{width:60px;float:left;padding:4px 0 0;line-height:15px;font-family:Helvetica,Arial,serif;font-size:11px;color:#fff;margin-left:5px;cursor:pointer}.mejs-controls .mejs-speed-button .mejs-speed-selector ul li:hover{background-color:#c8c8c8!important;background-color:rgba(255,255,255,.4)!important}.mejs-controls .mejs-button.mejs-jump-forward-button{background:transparent url(https://du11hjcvx0uqb.cloudfront.net/br/dist/webpack-production/15e1ac8cbacc2efdf1ac2677de48a253.png) no-repeat 3px 3px}.mejs-controls .mejs-button.mejs-jump-forward-button button{background:transparent;font-size:9px;line-height:normal;color:#fff}.mejs-controls .mejs-button.mejs-skip-back-button{background:transparent url(https://du11hjcvx0uqb.cloudfront.net/br/dist/webpack-production/cd6dc830eb45b3a5a96bbc936ff54846.png) no-repeat 3px 3px}.mejs-controls .mejs-button.mejs-skip-back-button button{background:transparent;font-size:9px;line-height:normal;color:#fff}</style><style type="text/css">/*
 * Copyright (C) 2014 - present Instructure, Inc.
 *
 * This file is part of Canvas.
 *
 * Canvas is free software: you can redistribute it and/or modify it under
 * the terms of the GNU Affero General Public License as published by the Free
 * Software Foundation, version 3 of the License.
 *
 * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY
 * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR
 * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more
 * details.
 *
 * You should have received a copy of the GNU Affero General Public License along
 * with this program. If not, see <http://www.gnu.org/licenses/>.
 */

/* customizations to mediaelementplayer css */

/*
  Because this file is not proccessed by our brandable_css sass pipeline,
  it cannot use our sass-direction helpers. So we have to handle RTL manually
  by putting direction-specific styles in [dir="ltr"] or [dir="rtl"] blocks.
*/
/* stylelint-disable property-disallowed-list, declaration-property-value-disallowed-list */

/* good menu widths */
.mejs-sourcechooser-selector {
  width: 160px;
}
.mejs-sourcechooser-selector label {
  width: 160px !important;
}

.mejs-captions-selector {
  width: 105px;
}
[dir="ltr"]  .mejs-captions-selector { text-align: left }
[dir="rtl"]  .mejs-captions-selector { text-align: right }

.mejs-captions-selector label {
  width: 70px !important;
}

/* Subtitile upload link */
.mejs-captions-selector .upload-track {
  color: white;
  margin-top: 3px;
  margin-bottom: 5px;
}
[dir="ltr"] .mejs-captions-selector .upload-track {
  margin-right: 0px;
  margin-left: 5px;
  float: left;
}
[dir="rtl"] .mejs-captions-selector .upload-track {
  margin-left: 0px;
  margin-right: 5px;
  float: right;
}

/* "x" button to remove a subtitle */
.mejs-captions-selector a[data-remove] {
  position: absolute;
  top: 0;
  color: white;
}
[dir="ltr"] .mejs-captions-selector a[data-remove] { right: 0 }
[dir="rtl"] .mejs-captions-selector a[data-remove] { left: 0 }


/* style menu items without a radio button */
.mejs-button [role="menu"] {
  padding: 0 !important;
}
 /* compensate for above 0 padding */
 .mejs-button [role="menu"] ul li {
  position: relative;
  padding: 0 10px !important;
}
/* add a hover effect */
.mejs-button [role="menu"] ul li:hover {
  background-color: #c8c8c8 !important;
  background-color: rgba(255, 255, 255, 0.4) !important;
}
.mejs-button [role="menu"] ul li input {
  border: 0;
  clip: rect(0 0 0 0);
  position: absolute;
  overflow: hidden;
  margin: -1px;
  padding: 0;
  width: 1px;
  height: 1px;
}
.mejs-button [role="menu"] ul li label {
  cursor: pointer;
}
[dir="ltr"] .mejs-button [role="menu"] ul li label { margin-left: 5px }
[dir="rtl"] .mejs-button [role="menu"] ul li label { margin-right: 5px }


.mejs-button [role="menu"] label.mejs-selected {
  color: #21f8f8 !important;
}

/* stylelint-enable property-disallowed-list, declaration-property-value-disallowed-list */
</style><script charset="utf-8" src="./fl27_files/4108-c-f51caaec17.js"></script></head>

<body class="with-left-side course-menu-expanded padless-content pages primary-nav-expanded full-width context-course_448 responsive_awareness responsive_misc responsive_student_grades_page webkit chrome no-touch show">

<noscript>
  <div role="alert" class="ic-flash-static ic-flash-error">
    <div class="ic-flash__icon" aria-hidden="true">
      <i class="icon-warning"></i>
    </div>
    <h1> To access this site, you must enable JavaScript.</h1>
  </div>
</noscript>




<ul id="flash_message_holder"></ul>
<div id="flash_screenreader_holder" role="alert" aria-live="assertive" aria-relevant="additions" class="screenreader-only" aria-atomic="false"></div>

<div id="application" class="ic-app">
  



    <header id="mobile-header" class="no-print">
      <button type="button" class="Button Button--icon-action-rev Button--large mobile-header-hamburger">
        <i class="icon-solid icon-hamburger"></i>
        <span id="mobileHeaderInboxUnreadBadge" class="menu-item__badge" style="min-width: 0; top: 12px; height: 12px; right: 6px; display:none;"></span>
        <span class="screenreader-only">Dashboard</span>
      </button>
      <div class="mobile-header-space"></div>
        <a class="mobile-header-title expandable" href="https://moringaschool.instructure.com/courses/448" role="button" aria-controls="mobileContextNavContainer">
          <div>SDC45FlaskRemote</div>
            <div>Thursday: Application Structures</div>
        </a>
        <div class="mobile-header-space"></div>
        <button type="button" class="Button Button--icon-action-rev Button--large mobile-header-arrow" aria-label="Navigation menu">
          <i class="icon-arrow-open-down" id="mobileHeaderArrowIcon"></i>
        </button>
    </header>
    <nav id="mobileContextNavContainer"></nav>
  <header id="header" class="ic-app-header no-print ">
    <a href="https://moringaschool.instructure.com/courses/448/pages/thursday-application-structures?module_item_id=40085#content" id="skip_navigation_link">Skip to content</a>
      <div role="region" class="ic-app-header__main-navigation" aria-label="Global navigation">
        <div class="ic-app-header__logomark-container">
          <a href="https://moringaschool.instructure.com/" class="ic-app-header__logomark">
            <span class="screenreader-only">Dashboard</span>
          </a>
        </div>
        <ul id="menu" class="ic-app-header__menu-list">
            <li class="menu-item ic-app-header__menu-list-item ">
              <button id="global_nav_profile_link" class="ic-app-header__menu-list-link">
                <div class="menu-item-icon-container">
                  <div aria-hidden="true" class="fs-exclude ic-avatar ">
                    <img src="./fl27_files/avatar-50.png" alt="john.gicho@student.moringaschool.com">
                  </div>
                  <span class="menu-item__badge"></span>
                </div>
                <div class="menu-item__text">
                  Account
                </div>
              </button>
            </li>
          <li class="ic-app-header__menu-list-item ">
            <a id="global_nav_dashboard_link" href="https://moringaschool.instructure.com/" class="ic-app-header__menu-list-link">
              <div class="menu-item-icon-container" aria-hidden="true">
                <svg xmlns="http://www.w3.org/2000/svg" class="ic-icon-svg ic-icon-svg--dashboard" version="1.1" x="0" y="0" viewBox="0 0 280 200" enable-background="new 0 0 280 200" xml:space="preserve"><path d="M273.09,180.75H197.47V164.47h62.62A122.16,122.16,0,1,0,17.85,142a124,124,0,0,0,2,22.51H90.18v16.29H6.89l-1.5-6.22A138.51,138.51,0,0,1,1.57,142C1.57,65.64,63.67,3.53,140,3.53S278.43,65.64,278.43,142a137.67,137.67,0,0,1-3.84,32.57ZM66.49,87.63,50.24,71.38,61.75,59.86,78,76.12Zm147,0L202,76.12l16.25-16.25,11.51,11.51ZM131.85,53.82v-23h16.29v23Zm15.63,142.3a31.71,31.71,0,0,1-28-16.81c-6.4-12.08-15.73-72.29-17.54-84.25a8.15,8.15,0,0,1,13.58-7.2c8.88,8.21,53.48,49.72,59.88,61.81a31.61,31.61,0,0,1-27.9,46.45ZM121.81,116.2c4.17,24.56,9.23,50.21,12,55.49A15.35,15.35,0,1,0,161,157.3C158.18,152,139.79,133.44,121.81,116.2Z"></path></svg>

              </div>
              <div class="menu-item__text">Dashboard</div>
            </a>
          </li>
            <li class="menu-item ic-app-header__menu-list-item ic-app-header__menu-list-item--active">
              <button id="global_nav_courses_link" class="ic-app-header__menu-list-link">
                <div class="menu-item-icon-container" aria-hidden="true">
                  <svg xmlns="http://www.w3.org/2000/svg" class="ic-icon-svg ic-icon-svg--courses" version="1.1" x="0" y="0" viewBox="0 0 280 259" enable-background="new 0 0 280 259" xml:space="preserve"><path d="M73.31,198c-11.93,0-22.22,8-24,18.73a26.67,26.67,0,0,0-.3,3.63v.3a22,22,0,0,0,5.44,14.65,22.47,22.47,0,0,0,17.22,8H200V228.19h-134V213.08H200V198Zm21-105.74h90.64V62H94.3ZM79.19,107.34V46.92H200v60.42Zm7.55,30.21V122.45H192.49v15.11ZM71.65,16.71A22.72,22.72,0,0,0,49,39.36V190.88a41.12,41.12,0,0,1,24.32-8h157V16.71ZM33.88,39.36A37.78,37.78,0,0,1,71.65,1.6H245.36V198H215.15v45.32h22.66V258.4H71.65a37.85,37.85,0,0,1-37.76-37.76Z"></path></svg>

                </div>
                <div class="menu-item__text">
                  Courses
                </div>
              </button>
            </li>
          <li class="menu-item ic-app-header__menu-list-item ">
            <a id="global_nav_calendar_link" href="https://moringaschool.instructure.com/calendar" class="ic-app-header__menu-list-link">
              <div class="menu-item-icon-container" aria-hidden="true">
                <svg xmlns="http://www.w3.org/2000/svg" class="ic-icon-svg ic-icon-svg--calendar" version="1.1" x="0" y="0" viewBox="0 0 280 280" enable-background="new 0 0 280 280" xml:space="preserve"><path d="M197.07,213.38h16.31V197.07H197.07Zm-16.31,16.31V180.76h48.92v48.92Zm-48.92-16.31h16.31V197.07H131.85Zm-16.31,16.31V180.76h48.92v48.92ZM66.62,213.38H82.93V197.07H66.62ZM50.32,229.68V180.76H99.24v48.92Zm146.75-81.53h16.31V131.85H197.07Zm-16.31,16.31V115.54h48.92v48.92Zm-48.92-16.31h16.31V131.85H131.85Zm-16.31,16.31V115.54h48.92v48.92ZM66.62,148.15H82.93V131.85H66.62ZM50.32,164.46V115.54H99.24v48.92ZM34,262.29H246V82.93H34ZM246,66.62V42.16A8.17,8.17,0,0,0,237.84,34H213.38v8.15a8.15,8.15,0,1,1-16.31,0V34H82.93v8.15a8.15,8.15,0,0,1-16.31,0V34H42.16A8.17,8.17,0,0,0,34,42.16V66.62Zm-8.15-48.92a24.49,24.49,0,0,1,24.46,24.46V278.6H17.71V42.16A24.49,24.49,0,0,1,42.16,17.71H66.62V9.55a8.15,8.15,0,0,1,16.31,0v8.15H197.07V9.55a8.15,8.15,0,1,1,16.31,0v8.15Z"></path></svg>

              </div>
              <div class="menu-item__text">
                Calendar
              </div>
            </a>
          </li>
          <li class="menu-item ic-app-header__menu-list-item ">
            <a id="global_nav_conversations_link" href="https://moringaschool.instructure.com/conversations" class="ic-app-header__menu-list-link">
              <div class="menu-item-icon-container">
                <span aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="ic-icon-svg ic-icon-svg--inbox" version="1.1" x="0" y="0" viewBox="0 0 280 280" enable-background="new 0 0 280 280" xml:space="preserve"><path d="M91.72,120.75h96.56V104.65H91.72Zm0,48.28h80.47V152.94H91.72Zm0-96.56h80.47V56.37H91.72Zm160.94,34.88H228.52V10.78h-177v96.56H27.34A24.17,24.17,0,0,0,3.2,131.48V244.14a24.17,24.17,0,0,0,24.14,24.14H252.66a24.17,24.17,0,0,0,24.14-24.14V131.48A24.17,24.17,0,0,0,252.66,107.34Zm0,16.09a8.06,8.06,0,0,1,8,8v51.77l-32.19,19.31V123.44ZM67.58,203.91v-177H212.42v177ZM27.34,123.44H51.48v79.13L19.29,183.26V131.48A8.06,8.06,0,0,1,27.34,123.44ZM252.66,252.19H27.34a8.06,8.06,0,0,1-8-8V202l30,18H230.75l30-18v42.12A8.06,8.06,0,0,1,252.66,252.19Z"></path></svg>
</span>
                <span class="menu-item__badge"></span>
              </div>
              <div class="menu-item__text">
                Inbox
              </div>
            </a>
          </li>
            <li class="menu-item ic-app-header__menu-list-item">
              <button id="global_nav_history_link" class="ic-app-header__menu-list-link">
                <div class="menu-item-icon-container" aria-hidden="true">
                  <svg viewBox="0 0 1920 1920" class="ic-icon-svg menu-item__icon svg-icon-history" version="1.1" xmlns="http://www.w3.org/2000/svg">
    <path d="M960 112.941c-467.125 0-847.059 379.934-847.059 847.059 0 467.125 379.934 847.059 847.059 847.059 467.125 0 847.059-379.934 847.059-847.059 0-467.125-379.934-847.059-847.059-847.059M960 1920C430.645 1920 0 1489.355 0 960S430.645 0 960 0s960 430.645 960 960-430.645 960-960 960m417.905-575.955L903.552 988.28V395.34h112.941v536.47l429.177 321.77-67.765 90.465z" stroke="none" stroke-width="1" fill-rule="evenodd"></path>
</svg>
                </div>
                <div class="menu-item__text">
                  History
                </div>
              </button>
            </li>
            


          <li class="ic-app-header__menu-list-item">
           <a id="global_nav_help_link" role="button" class="ic-app-header__menu-list-link" data-track-category="help system" data-track-label="help button" href="http://help.instructure.com/">
              <div class="menu-item-icon-container" role="presentation">
                  <svg xmlns="http://www.w3.org/2000/svg" class="ic-icon-svg menu-item__icon svg-icon-cog" version="1.1" x="0" y="0" viewBox="0 0 200 200" enable-background="new 0 0 200 200" xml:space="preserve" fill="currentColor"><path d="M100,127.88A27.88,27.88,0,1,1,127.92,100,27.92,27.92,0,0,1,100,127.88M100,61a39,39,0,1,0,39,39,39.08,39.08,0,0,0-39-39m73.42,39a70.26,70.26,0,0,0-1.15-12.57l20.76-18-19.7-33.66-26.19,8.73a74.2,74.2,0,0,0-22.11-12.68L119.68,5.2H80.4L75,31.83A72.9,72.9,0,0,0,52.89,44.51L26.71,35.79,7,69.45l20.74,18a69.95,69.95,0,0,0,0,25.13L7,130.55l19.7,33.66,26.19-8.74A74.23,74.23,0,0,0,75,168.16l5.4,26.64h39.28l5.4-26.63a72.88,72.88,0,0,0,22.11-12.69l26.19,8.74,19.7-33.66-20.76-18A70.26,70.26,0,0,0,173.46,100Zm5.31,32.92-10.45,17.86-23.72-7.92-2.42,2.2a61.7,61.7,0,0,1-23.57,13.51l-3.17,1-4.88,24.1h-21l-4.88-24.11-3.17-1A61.7,61.7,0,0,1,57.91,145l-2.42-2.2-23.72,7.92L21.31,132.91l18.74-16.24-.74-3.26a59.25,59.25,0,0,1,0-26.83l.74-3.26L21.31,67.09,31.76,49.23l23.72,7.91,2.42-2.2A61.87,61.87,0,0,1,81.47,41.42l3.17-1,4.88-24.1h21l4.88,24.11,3.17,1A61.73,61.73,0,0,1,142.18,55l2.42,2.2,23.72-7.92,10.45,17.86L160,83.33l.74,3.26a59.25,59.25,0,0,1,0,26.83l-.74,3.26Z"></path></svg>

                <span class="menu-item__badge"></span>
              </div>
              <div class="menu-item__text">
                Help Desk
              </div>
</a>          </li>
        </ul>
      </div>
      <div class="ic-app-header__secondary-navigation">
        <ul class="ic-app-header__menu-list">
          <li class="menu-item ic-app-header__menu-list-item">
            <button id="primaryNavToggle" class="ic-app-header__menu-list-link ic-app-header__menu-list-link--nav-toggle" aria-label="Minimise global navigation" title="Minimise global navigation">
              <div class="menu-item-icon-container" aria-hidden="true">
                <svg xmlns="http://www.w3.org/2000/svg" class="ic-icon-svg ic-icon-svg--navtoggle" version="1.1" x="0" y="0" width="40" height="32" viewBox="0 0 40 32" xml:space="preserve">
  <path d="M39.5,30.28V2.48H37.18v27.8Zm-4.93-13.9L22.17,4,20.53,5.61l9.61,9.61H.5v2.31H30.14l-9.61,9.61,1.64,1.64Z"></path>
</svg>

              </div>
            </button>
          </li>
        </ul>
      </div>
    <div id="global_nav_tray_container"></div>
    <div id="global_nav_tour"></div>
  </header>


  <div id="instructure_ajax_error_box">
    <div style="text-align: right; background-color: #fff;"><a href="https://moringaschool.instructure.com/courses/448/pages/thursday-application-structures?module_item_id=40085#" class="close_instructure_ajax_error_box_link">Close</a></div>
    <iframe id="instructure_ajax_error_result" src="./fl27_files/saved_resource.html" style="border: 0;" title="Error"></iframe>
  </div>

  <div id="wrapper" class="ic-Layout-wrapper">
      <div class="ic-app-nav-toggle-and-crumbs no-print">
          <button type="button" id="courseMenuToggle" class="Button Button--link ic-app-course-nav-toggle" aria-live="polite" aria-label="Hide courses navigation menu">
            <i class="icon-hamburger" aria-hidden="true"></i>
          </button>

        <div class="ic-app-crumbs">
            <nav id="breadcrumbs" role="navigation" aria-label="breadcrumbs"><ul><li class="home"><a href="https://moringaschool.instructure.com/"><span class="ellipsible">      <i class="icon-home" title="My dashboard">
        <span class="screenreader-only">My dashboard</span>
      </i>
</span></a></li><li><a href="https://moringaschool.instructure.com/courses/448"><span class="ellipsible">SDC45FlaskRemote</span></a></li><li><a href="https://moringaschool.instructure.com/courses/448/pages"><span class="ellipsible">Pages</span></a></li><li><span class="ellipsible">Thursday: Application Structures</span></li></ul></nav>
        </div>


        <div class="right-of-crumbs">
            <div class="TutorialToggleHolder"></div>
        </div>

      </div>
    <div id="main" class="ic-Layout-columns">
        <div class="ic-Layout-watermark"></div>
        <div id="left-side" class="ic-app-course-menu list-view" style="display: block">
                <span id="section-tabs-header-subtitle" class="ellipsis">SD45</span>
              <nav role="navigation" aria-label="Courses navigation menu"><ul id="section-tabs"><li class="section"><a href="https://moringaschool.instructure.com/courses/448" class="home" tabindex="0">Home</a></li><li class="section"><a href="https://moringaschool.instructure.com/courses/448/modules" class="modules" tabindex="0">Modules</a></li><li class="section"><a href="https://moringaschool.instructure.com/courses/448/grades" class="grades" tabindex="0">Grades</a></li><li class="section"><a href="https://moringaschool.instructure.com/courses/448/assignments" class="assignments" tabindex="0">Assignments</a></li><li class="section"><a href="https://moringaschool.instructure.com/courses/448/discussion_topics" class="discussions" tabindex="0">Discussions</a></li><li class="section"><a href="https://moringaschool.instructure.com/courses/448/files" class="files" tabindex="0">Files</a></li><li class="section"><a href="https://moringaschool.instructure.com/courses/448/lti_collaborations" class="collaborations" tabindex="0">Collaborations</a></li><li class="section"><a href="https://moringaschool.instructure.com/courses/448/external_tools/162" class="context_external_tool_162" tabindex="0">Google Drive</a></li><li class="section"><a href="https://moringaschool.instructure.com/courses/448/external_tools/164" class="context_external_tool_164" tabindex="0">Daily Health Check </a></li></ul></nav>
        </div>
      <div id="not_right_side" class="ic-app-main-content">
        <div id="content-wrapper" class="ic-Layout-contentWrapper">
          
          <div id="content" class="ic-Layout-contentMain" role="main">
            

  

<div id="wiki_page_show">

<div class="show-content user_content clearfix enhanced">
  <h1 class="page-title">Thursday: Application Structures</h1>
  
  
    <h2>Application structure</h2>
<p>When we began our project we created a basic application structure. This was good for when our application was still small but as it grows in size and complexity we will need to efficiently organize our project.</p>
<p>We will create a new application structure that we will use from now on in the end it will look something like this</p>
<div class="codehilite">
<pre><span></span><code><span class="o">|-</span><span class="n">Watchlist</span>
    <span class="o">|-</span><span class="n">app</span><span class="o">/</span>
        <span class="o">|-</span><span class="n">main</span><span class="o">/</span>
            <span class="o">|-</span><span class="fm">__init__</span><span class="o">.</span><span class="n">py</span>
            <span class="o">|-</span><span class="n">errors</span><span class="o">.</span><span class="n">py</span>
            <span class="o">|-</span><span class="n">forms</span><span class="o">.</span><span class="n">py</span>
            <span class="o">|-</span><span class="n">views</span><span class="o">.</span><span class="n">py</span>
        <span class="o">|-</span><span class="n">static</span><span class="o">/</span>
        <span class="o">|-</span><span class="n">templates</span><span class="o">/</span>
        <span class="o">|-</span><span class="fm">__init__</span><span class="o">.</span><span class="n">py</span>
        <span class="o">|-</span><span class="n">models</span><span class="o">.</span><span class="n">py</span>
        <span class="o">|-</span><span class="n">requests</span><span class="o">.</span><span class="n">py</span>
    <span class="o">|-</span><span class="n">tests</span><span class="o">/</span>
        <span class="o">|-</span><span class="n">test_movie</span><span class="o">.</span><span class="n">py</span>
        <span class="o">|-</span><span class="n">test_review</span><span class="o">.</span><span class="n">py</span>
    <span class="o">|-</span><span class="n">virtual</span><span class="o">/</span>
    <span class="o">|-</span><span class="n">config</span><span class="o">.</span><span class="n">py</span>
    <span class="o">|-.</span><span class="n">gitignore</span>
    <span class="o">|-</span><span class="n">manage</span><span class="o">.</span><span class="n">py</span>
    <span class="o">|-</span><span class="n">start</span><span class="o">.</span><span class="n">sh</span>
</code></pre>
</div>
<p>Please pay careful attention to the instructions to minimize chances of errors while following along.</p>
<h3>Application configurations</h3>
<p>We will move<span>&nbsp;</span><em>config.py</em><span>&nbsp;</span>from the<span>&nbsp;</span><code>app</code><span>&nbsp;</span>directory to the root directory.</p>
<p><em>config.py</em></p>
<div class="codehilite">
<pre><span></span><code> <span class="kn">import</span> <span class="nn">os</span>

<span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>

    <span class="n">MOVIE_API_BASE_URL</span> <span class="o">=</span><span class="s1">'https://api.themoviedb.org/3/movie/{}?api_key={}'</span>
    <span class="n">MOVIE_API_KEY</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'MOVIE_API_KEY'</span><span class="p">)</span>
    <span class="n">SECRET_KEY</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'SECRET_KEY'</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">ProdConfig</span><span class="p">(</span><span class="n">Config</span><span class="p">):</span>
    <span class="k">pass</span>


<span class="k">class</span> <span class="nc">DevConfig</span><span class="p">(</span><span class="n">Config</span><span class="p">):</span>
    <span class="n">DEBUG</span> <span class="o">=</span> <span class="bp">True</span>

<span class="n">config_options</span> <span class="o">=</span> <span class="p">{</span>
<span class="s1">'development'</span><span class="p">:</span><span class="n">DevConfig</span><span class="p">,</span>
<span class="s1">'production'</span><span class="p">:</span><span class="n">ProdConfig</span>
<span class="p">}</span>
</code></pre>
</div>
<p>We update our<span>&nbsp;</span><em>config.py</em><span>&nbsp;</span>file. We first import the<span>&nbsp;</span><code>os</code><span>&nbsp;</span>module that will allow our application to interact with the operating system dependent functionality. We use the<span>&nbsp;</span><code>os.environ.get()</code><span>&nbsp;</span>function to get<span>&nbsp;</span><code>MOVIE_API_KEY</code><span>&nbsp;</span>and<span>&nbsp;</span><code>SECRET_KEY</code><span>&nbsp;</span>which we will set as environment variables.</p>
<p>We then create a dictionary<span>&nbsp;</span><code>config_options</code><span>&nbsp;</span>to help us access different configuration option classes.</p>
<p>### Application factory</p>
<p>Our application package is where most of the apps functionality is stored including static files and templates. How the application instance is created makes it difficult to apply configuration changes dynamically. This is useful when it comes to testing the application under different configurations. To solve this we create a function that can be launched from the script</p>
<p><em>app/__init__.py</em></p>
<div class="codehilite">
<pre><span></span><code><span class="kn">from</span> <span class="nn">flask</span> <span class="kn">import</span> <span class="n">Flask</span>
<span class="kn">from</span> <span class="nn">flask_bootstrap</span> <span class="kn">import</span> <span class="n">Bootstrap</span>
<span class="kn">from</span> <span class="nn">config</span> <span class="kn">import</span> <span class="n">config_options</span>

<span class="n">bootstrap</span> <span class="o">=</span> <span class="n">Bootstrap</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">create_app</span><span class="p">(</span><span class="n">config_name</span><span class="p">):</span>

    <span class="n">app</span> <span class="o">=</span> <span class="n">Flask</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>

    <span class="c1"># Creating the app configurations</span>
    <span class="n">app</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">from_object</span><span class="p">(</span><span class="n">config_options</span><span class="p">[</span><span class="n">config_name</span><span class="p">])</span>

    <span class="c1"># Initializing flask extensions</span>
    <span class="n">bootstrap</span><span class="o">.</span><span class="n">init_app</span><span class="p">(</span><span class="n">app</span><span class="p">)</span>

    <span class="c1"># Will add the views and forms</span>

    <span class="k">return</span> <span class="n">app</span>
</code></pre>
</div>
<p>We update our<span>&nbsp;</span><em>app/__init__.py</em><span>&nbsp;</span>to create our application factory function. We import import the<span>&nbsp;</span><code>config_options</code><span>&nbsp;</span>from the the<span>&nbsp;</span><em>config.py</em><span>&nbsp;</span>file that we updated. We then create the<span>&nbsp;</span><code>bootstrap</code><span>&nbsp;</span>instance.</p>
<p>We create a<span>&nbsp;</span><code>create_app()</code><span>&nbsp;</span>function that takes the configuration setting key as an argument. This is because we might want to create the application instance under different configurations. We then create the<span>&nbsp;</span><code>Flask</code><span>&nbsp;</span>app instance. We then import the configuration settings directly to the application using the<span>&nbsp;</span><code>from_object()</code>method. We remove the<span>&nbsp;</span><code>app.config.from_pyfile("config.py")</code><span>&nbsp;</span>statement because all our secret configuration settings will be stored as environment variables.</p>
<p>We call the<span>&nbsp;</span><code>init_app()</code><span>&nbsp;</span>on an extension to complete on their initialization.Finally we return<span>&nbsp;</span><code>app</code>.</p>
<h3>Creating Blueprints</h3>
<p>We now run into another problem. In our previous application structure the<span>&nbsp;</span><code>app</code>instance was available in the global scope now it is created at runtime.Functionality like<span>&nbsp;</span><code>@app.route()</code><span>&nbsp;</span>cannot work until the<span>&nbsp;</span><code>create_app()</code><span>&nbsp;</span>is executed. This is where<span>&nbsp;</span><strong>Blueprints</strong><span>&nbsp;</span>come in handy.</p>
<p>A<span>&nbsp;</span><strong>Blueprint</strong><span>&nbsp;</span>is similar to an application in that it can also define routes.The main difference is that blueprints are dormant until they are registered by an application.</p>
<p>Inside the app instance create a new folder<span>&nbsp;</span><em>main</em><span>&nbsp;</span>this is where we will define our blueprint. We move our<span>&nbsp;</span><em>errors.py</em><span>&nbsp;</span><em>forms.py</em><span>&nbsp;</span>and<span>&nbsp;</span><em>views.py</em><span>&nbsp;</span>files from our app folder into our<span>&nbsp;</span><em>app/main</em><span>&nbsp;</span>subfolder. We will also create an<span>&nbsp;</span><em>__init__.py</em><span>&nbsp;</span>file inside our<span>&nbsp;</span><em>app/main</em><span>&nbsp;</span>subfolder to define the Blueprint.</p>
<p><em>app/main/__init__.py</em></p>
<div class="codehilite">
<pre><span></span><code><span class="kn">from</span> <span class="nn">flask</span> <span class="kn">import</span> <span class="n">Blueprint</span>
<span class="n">main</span> <span class="o">=</span> <span class="n">Blueprint</span><span class="p">(</span><span class="s1">'main'</span><span class="p">,</span><span class="vm">__name__</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">.</span> <span class="kn">import</span> <span class="n">views</span><span class="p">,</span><span class="n">errors</span>
</code></pre>
</div>
<p>We import the<span>&nbsp;</span><code>Blueprint</code><span>&nbsp;</span>class from flask. We then initialize the<span>&nbsp;</span><code>Blueprint</code><span>&nbsp;</span>class by creating a variable<span>&nbsp;</span><code>main</code>. The<span>&nbsp;</span><code>Blueprint</code><span>&nbsp;</span>class takes in 2 arguments. The name of the blueprint and the<span>&nbsp;</span><code>__name__</code><span>&nbsp;</span>variable to find the location of the blueprint.</p>
<p>To avoid circular dependencies we import the<span>&nbsp;</span><em>views</em><span>&nbsp;</span>and<span>&nbsp;</span><em>errors</em><span>&nbsp;</span>modules.</p>
<h3>Registering a Blueprint</h3>
<div class="codehilite">
<pre><span></span><code><span class="k">def</span> <span class="nf">create_app</span><span class="p">(</span><span class="n">config_name</span><span class="p">):</span>
    <span class="n">app</span> <span class="o">=</span> <span class="n">Flask</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>

    <span class="c1"># Creating the app configurations</span>
    <span class="n">app</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">from_object</span><span class="p">(</span><span class="n">config_options</span><span class="p">[</span><span class="n">config_name</span><span class="p">])</span>

    <span class="c1"># Initializing flask extensions</span>
    <span class="n">bootstrap</span><span class="o">.</span><span class="n">init_app</span><span class="p">(</span><span class="n">app</span><span class="p">)</span>

    <span class="c1"># Registering the blueprint</span>
    <span class="kn">from</span> <span class="nn">.main</span> <span class="kn">import</span> <span class="n">main</span> <span class="k">as</span> <span class="n">main_blueprint</span>
    <span class="n">app</span><span class="o">.</span><span class="n">register_blueprint</span><span class="p">(</span><span class="n">main_blueprint</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">app</span>
</code></pre>
</div>
<p>We register a Blueprint inside our application factory function. We first import the instance we just created then we call the<span>&nbsp;</span><code>register_blueprint()</code><span>&nbsp;</span>method on the application instance and pass in the blueprint.</p>
<h3>Blueprint Error handlers</h3>
<p>The main difference with writing error handlers inside a blueprint is that it is invoked only inside the blueprint. To use application-wide error handler we must use the<span>&nbsp;</span><code>app_errorhandler()</code><span>&nbsp;</span>decorator.</p>
<p><em>app/main/errors.py</em></p>
<div class="codehilite">
<pre><span></span><code><span class="kn">from</span> <span class="nn">flask</span> <span class="kn">import</span> <span class="n">render_template</span>
<span class="kn">from</span> <span class="nn">.</span> <span class="kn">import</span> <span class="n">main</span>

<span class="nd">@main.app_errorhandler</span><span class="p">(</span><span class="mi">404</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">four_Ow_four</span><span class="p">(</span><span class="n">error</span><span class="p">):</span>
    <span class="sd">'''</span>
<span class="sd">    Function to render the 404 error page</span>
<span class="sd">    '''</span>
    <span class="k">return</span> <span class="n">render_template</span><span class="p">(</span><span class="s1">'fourOwfour.html'</span><span class="p">),</span><span class="mi">404</span>
</code></pre>
</div>
<p>Since we are defining our error handler inside our blueprint we import the blueprint instance<span>&nbsp;</span><code>main</code><span>&nbsp;</span>and use it to define our decorator.</p>
<h3>Models</h3>
<p>We create a<span>&nbsp;</span><em>models.py</em><span>&nbsp;</span>file inside our app folder that will contain our<span>&nbsp;</span><code>Movie</code><span>&nbsp;</span>and<span>&nbsp;</span><code>Review</code><span>&nbsp;</span>models.</p>
<p><em>app/models.py</em></p>
<div class="codehilite">
<pre><span></span><code><span class="k">class</span> <span class="nc">Movie</span><span class="p">:</span>
    <span class="sd">'''</span>
<span class="sd">    Movie class to define Movie Objects</span>
<span class="sd">    '''</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="nb">id</span><span class="p">,</span><span class="n">title</span><span class="p">,</span><span class="n">overview</span><span class="p">,</span><span class="n">poster</span><span class="p">,</span><span class="n">vote_average</span><span class="p">,</span><span class="n">vote_count</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span><span class="nb">id</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="n">title</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">overview</span> <span class="o">=</span> <span class="n">overview</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">poster</span> <span class="o">=</span> <span class="s2">"https://image.tmdb.org/t/p/w500/"</span> <span class="o">+</span> <span class="n">poster</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">vote_average</span> <span class="o">=</span> <span class="n">vote_average</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">vote_count</span> <span class="o">=</span> <span class="n">vote_count</span>



<span class="k">class</span> <span class="nc">Review</span><span class="p">:</span>

    <span class="n">all_reviews</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">movie_id</span><span class="p">,</span><span class="n">title</span><span class="p">,</span><span class="n">imageurl</span><span class="p">,</span><span class="n">review</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">movie_id</span> <span class="o">=</span> <span class="n">movie_id</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="n">title</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">imageurl</span> <span class="o">=</span> <span class="n">imageurl</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">review</span> <span class="o">=</span> <span class="n">review</span>


    <span class="k">def</span> <span class="nf">save_review</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">Review</span><span class="o">.</span><span class="n">all_reviews</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>


    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">clear_reviews</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
        <span class="n">Review</span><span class="o">.</span><span class="n">all_reviews</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">get_reviews</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span><span class="nb">id</span><span class="p">):</span>

        <span class="n">response</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="k">for</span> <span class="n">review</span> <span class="ow">in</span> <span class="bp">cls</span><span class="o">.</span><span class="n">all_reviews</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">review</span><span class="o">.</span><span class="n">movie_id</span> <span class="o">==</span> <span class="nb">id</span><span class="p">:</span>
                <span class="n">response</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">review</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">response</span>
</code></pre>
</div>
<p>We create place both our<span>&nbsp;</span><code>Review</code><span>&nbsp;</span>and<span>&nbsp;</span><code>Model</code><span>&nbsp;</span>classes inside the _models.py_ file. We can now delete the models folder from our app directory.</p>
<h3>Requests</h3>
<p><em>app/requests.py</em></p>
<div class="codehilite">
<pre><span></span><code><span class="kn">import</span> <span class="nn">urllib.request</span><span class="o">,</span><span class="nn">json</span>
<span class="kn">from</span> <span class="nn">.models</span> <span class="kn">import</span> <span class="n">Movie</span>

<span class="c1">#....</span>
</code></pre>
</div>
<p>We first update our imports by importing the<span>&nbsp;</span><code>Movie</code><span>&nbsp;</span>class from the new _app/models.py_ file we have just created.</p>
<p><em>app/requests.py</em></p>
<div class="codehilite">
<pre><span></span><code><span class="kn">import</span> <span class="nn">urllib.request</span><span class="o">,</span><span class="nn">json</span>
<span class="kn">from</span> <span class="nn">.models</span> <span class="kn">import</span> <span class="n">Movie</span>

<span class="c1"># Getting api key</span>
<span class="n">api_key</span> <span class="o">=</span> <span class="bp">None</span>
<span class="c1"># Getting the movie base url</span>
<span class="n">base_url</span> <span class="o">=</span> <span class="bp">None</span>

<span class="k">def</span> <span class="nf">configure_request</span><span class="p">(</span><span class="n">app</span><span class="p">):</span>
    <span class="k">global</span> <span class="n">api_key</span><span class="p">,</span><span class="n">base_url</span>
    <span class="n">api_key</span> <span class="o">=</span> <span class="n">app</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">'MOVIE_API_KEY'</span><span class="p">]</span>
    <span class="n">base_url</span> <span class="o">=</span> <span class="n">app</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">'MOVIE_API_BASE_URL'</span><span class="p">]</span>

<span class="c1">#....</span>
</code></pre>
</div>
<p>We then create two variables<span>&nbsp;</span><code>api_key</code><span>&nbsp;</span>and<span>&nbsp;</span><code>base_url</code><span>&nbsp;</span>and set them to<span>&nbsp;</span><code>None</code>. We then create a function<span>&nbsp;</span><code>configure_request()</code><span>&nbsp;</span>that takes in the application instance and replaces the values of the None variables to application configuration objects.</p>
<p>Because we cannot access the application instance globally we need to call this function when we create our application instance. This will give us access to the application configuration objects.</p>
<p><em>app/__init__.py</em></p>
<div class="codehilite">
<pre><span></span><code><span class="k">def</span> <span class="nf">create_app</span><span class="p">(</span><span class="n">config_name</span><span class="p">):</span>
    <span class="c1">#....</span>
    <span class="c1"># Registering the blueprint</span>
    <span class="kn">from</span> <span class="nn">.main</span> <span class="kn">import</span> <span class="n">main</span> <span class="k">as</span> <span class="n">main_blueprint</span>
    <span class="n">app</span><span class="o">.</span><span class="n">register_blueprint</span><span class="p">(</span><span class="n">main_blueprint</span><span class="p">)</span>

    <span class="c1"># setting config</span>
    <span class="kn">from</span> <span class="nn">.requests</span> <span class="kn">import</span> <span class="n">configure_request</span>
    <span class="n">configure_request</span><span class="p">(</span><span class="n">app</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">app</span>
</code></pre>
</div>
<p>Inside our<span>&nbsp;</span><em>app/__init__.py</em><span>&nbsp;</span>file we import the<span>&nbsp;</span><code>configure_request()</code><span>&nbsp;</span>function from the<span>&nbsp;</span><em>request.py</em><span>&nbsp;</span>file. We call the function and pass the<span>&nbsp;</span><code>app</code><span>&nbsp;</span>instance.</p>
<h3>Blueprint views</h3>
<p>Now we can update our<span>&nbsp;</span><em>main/views.py</em><span>&nbsp;</span>file.</p>
<p><em>main/views.py</em></p>
<div class="codehilite">
<pre><span></span><code><span class="kn">from</span> <span class="nn">flask</span> <span class="kn">import</span> <span class="n">render_template</span><span class="p">,</span><span class="n">request</span><span class="p">,</span><span class="n">redirect</span><span class="p">,</span><span class="n">url_for</span>
<span class="kn">from</span> <span class="nn">.</span> <span class="kn">import</span> <span class="n">main</span>
<span class="kn">from</span> <span class="nn">..requests</span> <span class="kn">import</span> <span class="n">get_movies</span><span class="p">,</span><span class="n">get_movie</span><span class="p">,</span><span class="n">search_movie</span>
<span class="kn">from</span> <span class="nn">.forms</span> <span class="kn">import</span> <span class="n">ReviewForm</span>
<span class="kn">from</span> <span class="nn">..models</span> <span class="kn">import</span> <span class="n">Review</span>

<span class="c1">#...</span>
</code></pre>
</div>
<p>We first update our files imports. We use the python relative import system in order to import a module according to where it is located in our project. We use one dot<span>&nbsp;</span><code>.modulename</code><span>&nbsp;</span>to import modules that are located within the same package, and two dots&nbsp;<code>..modulename</code><span>&nbsp;</span>for modules located in a package higher up in the project hierarchy.</p>
<p>We then define our route decorators using the<span>&nbsp;</span><code>main</code><span>&nbsp;</span>blueprint instance instead of the app instance</p>
<p><em>main/views.py</em></p>
<div class="codehilite">
<pre><span></span><code><span class="c1"># ...</span>
<span class="c1"># Views</span>
<span class="nd">@main.route</span><span class="p">(</span><span class="s1">'/'</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">index</span><span class="p">():</span>
    <span class="c1">#....</span>
</code></pre>
</div>
<p><strong>Task</strong>: Define all the remaining routes with the appropriate decorators.</p>
<h4>url_for() functions in Blueprints</h4>
<p>Flask adds a<span>&nbsp;</span><strong>namespace</strong><span>&nbsp;</span>to all endpoints from a blueprint. The namespace is generally the name of the blueprint. For example the<span>&nbsp;</span><code>index()</code><span>&nbsp;</span>view function is registerd as<span>&nbsp;</span><code>url_for('main.index')</code>.<span>&nbsp;</span><code>url_for</code><span>&nbsp;</span>also supports a shorthand format using<span>&nbsp;</span><code>.</code>.<span>&nbsp;</span><code>url_for('main.index')</code><span>&nbsp;</span>can be shortened to<span>&nbsp;</span><code>url_for('.index')</code></p>
<p><strong>Task</strong>: Update the<span>&nbsp;</span><code>url_for</code><span>&nbsp;</span>function in the<span>&nbsp;</span><code>index</code><span>&nbsp;</span>and<span>&nbsp;</span><code>new_review</code><span>&nbsp;</span>view functions with the proper namespace.</p>
<h3>Unittests</h3>
<p>We now move our<span>&nbsp;</span><code>test_movie.py</code><span>&nbsp;</span>and<span>&nbsp;</span><code>test_review.py</code><span>&nbsp;</span>files from our app folder into our tests folder.</p>
<p><em>tests/test_movie.py</em></p>
<div class="codehilite">
<pre><span></span><code><span class="kn">import</span> <span class="nn">unittest</span>
<span class="kn">from</span> <span class="nn">app.models</span> <span class="kn">import</span> <span class="n">Movie</span>

<span class="k">class</span> <span class="nc">MovieTest</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="sd">'''</span>
<span class="sd">    Test Class to test the behaviour of the Movie class</span>
<span class="sd">    '''</span>

    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">'''</span>
<span class="sd">        Set up method that will run before every Test</span>
<span class="sd">        '''</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">new_movie</span> <span class="o">=</span> <span class="n">Movie</span><span class="p">(</span><span class="mi">1234</span><span class="p">,</span><span class="s1">'Python Must Be Crazy'</span><span class="p">,</span><span class="s1">'A thrilling new Python Series'</span><span class="p">,</span><span class="s1">'/khsjha27hbs'</span><span class="p">,</span><span class="mf">8.5</span><span class="p">,</span><span class="mi">129993</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_instance</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">new_movie</span><span class="p">,</span><span class="n">Movie</span><span class="p">))</span>
</code></pre>
</div>
<p>We update our imports where we import our<span>&nbsp;</span><code>Movie</code><span>&nbsp;</span>class from the the<span>&nbsp;</span><em>modules.py</em>file inside our app directory.</p>
<p>We then remove the<span>&nbsp;</span><code>unittest.run()</code><span>&nbsp;</span>command from the bottom of our file. We will consider how to run unittests later on. For now leave your file like this.</p>
<p><strong>Task</strong>: Update the<span>&nbsp;</span><em>test_review.py</em><span>&nbsp;</span>file with the correct imports and remove the<span>&nbsp;</span><code>unittest.run()</code><span>&nbsp;</span>command from the bottom of the file.</p>
<h3>Running our Application</h3>
<p>Now that we have properly configured our application structure we can now launch our application. We will use a flask extension called Flask-Script that is a command line parser that will allow us to create startup configurations.</p>
<p>First install flask-script:</p>
<div class="codehilite">
<pre><span></span><code><span class="o">(</span>virtual<span class="o">)</span>$ pip install flask-script
</code></pre>
</div>
<p>Rename<span>&nbsp;</span><em>run.py</em><span>&nbsp;</span>file to<span>&nbsp;</span><em>manage.py</em><span>&nbsp;</span>and then setup flask-script.</p>
<p><em>manage.py</em></p>
<div class="codehilite">
<pre><span></span><code><span class="kn">from</span> <span class="nn">app</span> <span class="kn">import</span> <span class="n">create_app</span>
<span class="kn">from</span> <span class="nn">flask_script</span> <span class="kn">import</span> <span class="n">Manager</span><span class="p">,</span><span class="n">Server</span>

<span class="c1">#...</span>
</code></pre>
</div>
<p>We first import the<span>&nbsp;</span><code>create_app</code><span>&nbsp;</span>function from our app folder. We also import the<span>&nbsp;</span><code>Manager</code><span>&nbsp;</span>class from flask-script that will initialize our extension and the<span>&nbsp;</span><code>Server</code><span>&nbsp;</span>class that help us launch our server.</p>
<p><em>manage.py</em></p>
<div class="codehilite">
<pre><span></span><code><span class="c1"># ...</span>
<span class="c1"># Creating app instance</span>
<span class="n">app</span> <span class="o">=</span> <span class="n">create_app</span><span class="p">(</span><span class="s1">'development'</span><span class="p">)</span>

<span class="n">manager</span> <span class="o">=</span> <span class="n">Manager</span><span class="p">(</span><span class="n">app</span><span class="p">)</span>
<span class="n">manager</span><span class="o">.</span><span class="n">add_command</span><span class="p">(</span><span class="s1">'server'</span><span class="p">,</span><span class="n">Server</span><span class="p">)</span>
</code></pre>
</div>
<p>We then call the<span>&nbsp;</span><code>create_app</code><span>&nbsp;</span>function and pass in the configuration_options key so as to create the application instance. We instantiate the<span>&nbsp;</span><code>Manager</code><span>&nbsp;</span>class by passing in the app instance. We then create a command line argument to tell us how to run our application. We use the<span>&nbsp;</span><code>add_command</code><span>&nbsp;</span>method to create a new command<span>&nbsp;</span><code>'server'</code><span>&nbsp;</span>which will launch our application server.</p>
<p><em>manage.py</em></p>
<div class="codehilite">
<pre><span></span><code><span class="c1"># ...</span>
<span class="n">manager</span><span class="o">.</span><span class="n">add_command</span><span class="p">(</span><span class="s1">'server'</span><span class="p">,</span><span class="n">Server</span><span class="p">)</span>
<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">'__main__'</span><span class="p">:</span>
    <span class="n">manager</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</code></pre>
</div>
<p>We end the file by calling the<span>&nbsp;</span><code>run</code><span>&nbsp;</span>method on the Manager instance this will run the application.</p>
<p>Now we can run our application</p>
<div class="codehilite">
<pre><span></span><code><span class="o">(</span>virtual<span class="o">)</span>$ <span class="nb">export</span> <span class="nv">MOVIE_API_KEY</span><span class="o">=</span>&lt;Your api key&gt;
<span class="o">(</span>virtual<span class="o">)</span>$ <span class="nb">export</span> <span class="nv">SECRET_KEY</span><span class="o">=</span>&lt;Your secret key&gt;
<span class="o">(</span>virtual<span class="o">)</span>$ python3.6  manage.py server
 * Running on http://127.0.0.1:5000/ <span class="o">(</span>Press CTRL+C to quit<span class="o">)</span>
 * Restarting with stat
 * Debugger is active!
</code></pre>
</div>
<p>Running your application this way everytime can get tedious we can create a start file that will setup our environment variables and run our application for us.</p>
<p>Inside our root directory create a new file<span>&nbsp;</span><em>start.sh</em></p>
<p><em>start.sh</em></p>
<div class="codehilite">
<pre><span></span><code> <span class="nb">export</span> <span class="nv">MOVIE_API_KEY</span><span class="o">=</span>&lt;Your api key&gt;
<span class="nb">export</span> <span class="nv">SECRET_KEY</span><span class="o">=</span>&lt;Your secret key&gt;

python3.6 manage.py server
</code></pre>
</div>
<p>We then can make that file executable by running<span>&nbsp;</span><code>chmod a+x</code>.</p>
<div class="codehilite">
<pre><span></span><code> <span class="o">(</span>virtual<span class="o">)</span>$ chmod a+x start.sh
</code></pre>
</div>
<p>Now we can run our application very easily</p>
<div class="codehilite">
<pre><span></span><code> <span class="o">(</span>virtual<span class="o">)</span>$ ./start.sh
 * Running on http://127.0.0.1:5000/ <span class="o">(</span>Press CTRL+C to quit<span class="o">)</span>
 * Restarting with stat
 * Debugger is active!
</code></pre>
</div>
<h3>Running unittests</h3>
<p>We can use the<span>&nbsp;</span><code>manager</code><span>&nbsp;</span>instance to create a command to run unittests in our application.</p>
<p><em>manage.py</em></p>
<div class="codehilite">
<pre><span></span><code><span class="c1"># ...</span>
<span class="n">manager</span><span class="o">.</span><span class="n">add_command</span><span class="p">(</span><span class="s1">'server'</span><span class="p">,</span><span class="n">Server</span><span class="p">)</span>
<span class="nd">@manager.command</span>
<span class="k">def</span> <span class="nf">test</span><span class="p">():</span>
    <span class="sd">"""Run the unit tests."""</span>
    <span class="kn">import</span> <span class="nn">unittest</span>
    <span class="n">tests</span> <span class="o">=</span> <span class="n">unittest</span><span class="o">.</span><span class="n">TestLoader</span><span class="p">()</span><span class="o">.</span><span class="n">discover</span><span class="p">(</span><span class="s1">'tests'</span><span class="p">)</span>
    <span class="n">unittest</span><span class="o">.</span><span class="n">TextTestRunner</span><span class="p">(</span><span class="n">verbosity</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">tests</span><span class="p">)</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">'__main__'</span><span class="p">:</span>
    <span class="n">manager</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</code></pre>
</div>
<p>We use the<span>&nbsp;</span><code>@manager.command</code><span>&nbsp;</span>decorator to create a new command.We create the test function that loads all the test files and runs them all</p>
<div class="codehilite">
<pre><span></span><code>python3.6 manager.py <span class="nb">test</span>
test_instance <span class="o">(</span>test_movie.MovieTest<span class="o">)</span> ... ok
test_check_instance_variables <span class="o">(</span>test_review.TestReview<span class="o">)</span> ... ok
test_get_review_by_id <span class="o">(</span>test_review.TestReview<span class="o">)</span> ... ok
test_instance <span class="o">(</span>test_review.TestReview<span class="o">)</span> ... ok
test_save_review <span class="o">(</span>test_review.TestReview<span class="o">)</span> ... ok

----------------------------------------------------------------------
Ran <span class="m">5</span> tests in <span class="m">0</span>.002s

OK
</code></pre>
</div>
<p>We can now run unittests using the<span>&nbsp;</span><code>python3.6 manager.py test</code><span>&nbsp;</span>command from the terminal.</p>
  
<iframe id="fs-iframe" title="Content Page Rating" src="./fl27_files/student_contract_copy.html" width="100%" height="400x"></iframe></div>
</div>
<div id="module_navigation_target"><div style=""><div class="module-sequence-padding"></div>
<div class="module-sequence-footer" role="navigation" aria-label="Module Navigation">
  <div class="module-sequence-footer-content">
    
      <span class="module-sequence-footer-button--previous" data-tooltip="right" data-html-tooltip-title="&lt;i class=&#39;icon-document&#39;&gt;&lt;/i&gt; Wednesday: WTF Forms">
          <a href="https://moringaschool.instructure.com/courses/448/modules/items/40084" role="button" class="Button" aria-describedby="msf0-previous-desc" aria-label="Previous Module Item">
            <i class="icon-mini-arrow-left"></i>Previous
            <span id="msf0-previous-desc" class="hidden" hidden="">Previous: Wednesday: WTF Forms</span>
          </a>
      </span>
    

    
      <span class="module-sequence-footer-button--next" data-tooltip="left" data-html-tooltip-title="&lt;i class=&#39;icon-document&#39;&gt;&lt;/i&gt; Thursday: Deploying to Heroku">
        <a href="https://moringaschool.instructure.com/courses/448/modules/items/40086" role="button" class="Button" aria-describedby="msf0-next-desc" aria-label="Next Module Item">
          Next<i class="icon-mini-arrow-right"></i>
          <span id="msf0-next-desc" class="hidden" hidden="">Next: Thursday: Deploying to Heroku</span>
        </a>
      </span>
    
  </div>
</div>
</div></div>

          </div>
        </div>
        <div id="right-side-wrapper" class="ic-app-main-content__secondary">
          <aside id="right-side" role="complementary">
            
          </aside>
        </div>
      </div>
    </div>
  </div>



    <div style="display:none;"><!-- Everything inside of this should always stay hidden -->
        <div id="page_view_id">f527310b-faf9-4c83-b59e-a164576bbe95</div>
    </div>
  <div id="aria_alerts" class="hide-text affix" role="alert" aria-live="assertive"></div>
  <div id="StudentTray__Container"></div>
    <div class="NewUserTutorialTray__Container"></div>
  

  <script>
    Object.assign(
      ENV,
      {}
    )
  </script>

<link rel="preload" href="./fl27_files/inst_fs_service_worker-c-45cd13f265.js" as="script" type="text/javascript"><script>
//<![CDATA[
(window.bundles || (window.bundles = [])).push('inst_fs_service_worker');
//]]>
</script>
  <script>
//<![CDATA[

      ;["https://instructure-uploads-eu.s3.eu-west-1.amazonaws.com/account_118060000000000001/attachments/68244/sth.js"].forEach(function(src) {
        var s = document.createElement('script')
        s.src = src
        s.async = false
        document.head.appendChild(s)
      });
//]]>
</script>

</div> <!-- #application -->


<div id="nav-tray-portal" style="position: relative; z-index: 99;"></div></body></html>